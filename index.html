<!-- Removido CSS fora da tag <style> -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="description" content="Sistema moderno de gerenciamento de estoque - DcodeStock" />
    <meta name="keywords" content="estoque, invent√°rio, gest√£o, stock, management" />
    <meta name="author" content="Douglas Dcode" />
    <title>DcodeStock - Gerenciamento de Estoque</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#000000" />
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="DcodeStock" />
    
    <!-- iOS Icons -->
    <link rel="apple-touch-icon" href="Dcodelogo.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="Dcodelogo.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="Dcodelogo.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="Dcodelogo.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="Dcodelogo.png" />
    
    <!-- iOS Splash Screen -->
    <link rel="apple-touch-startup-image" href="Dcodelogo.png" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Dcodelogo.png" />
    <link rel="shortcut icon" href="Dcodelogo.png" />
    
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&amp;display=swap" rel="stylesheet" />
    <style>
        /* For√ßa os bot√µes do topo a manterem a mesma cor no modo claro e escuro */
        /* For√ßa os bot√µes do topo a manterem o estilo dark SEMPRE, independente do tema */
        .top-bar-app .login-button,
        .top-bar-app .premium-button,
        .top-bar-app .language-button,
        .top-bar-app #themeToggleTop,
        .top-bar-app #btnShare,
        .top-bar-app #btnNotify {
            color: #fff !important;
            background: #111 !important;
            border: none !important;
            box-shadow: 0 2px 8px #0008 !important;
            transition: background 0.2s, color 0.2s;
        }
        /* For√ßa ainda mais a prioridade para NUNCA ficar verde, azul ou amarelo */
        .top-bar-app .login-button,
        .top-bar-app .premium-button,
        .top-bar-app .language-button {
            background: #111 !important;
            color: #fff !important;
            border: none !important;
            box-shadow: 0 2px 8px #0008 !important;
        }
        .top-bar-app .login-button:hover,
        .top-bar-app .premium-button:hover,
        .top-bar-app .language-button:hover {
            background: #222 !important;
            color: #fff !important;
        }
        /* Remove qualquer cor de fundo de svg, video ou img dentro do bot√£o de idioma */
        .top-bar-app .language-button video,
        .top-bar-app .language-button svg {
            background: transparent !important;
            box-shadow: none !important;
        }
        .top-bar-app .language-button img {
            box-shadow: none !important;
        }
        /* Remove qualquer cor de fundo do bot√£o premium */
        .top-bar-app .premium-button {
            background: #111 !important;
            color: #fff !important;
            box-shadow: 0 2px 8px #0008 !important;
        }
        .top-bar-app .premium-button:hover {
            background: #222 !important;
            color: #fff !important;
        }
        .top-bar-app .login-button:hover,
        .top-bar-app .premium-button:hover,
        .top-bar-app .language-button:hover,
        .top-bar-app #themeToggleTop:hover,
        .top-bar-app #btnShare:hover,
        .top-bar-app #btnNotify:hover {
            background: #222 !important;
            color: #fff !important;
        }
        /* --- General Styles --- */
        :root {
            --bg-color-dark: #000000;
            --bg-color-medium: #000000;
            --bg-color-light: #000000;
            --text-color: #fff;
            --secondary-text-color: #fff;
            --border-color: #444;
            --button-bg: #000000;
            --button-hover-bg: #111111;
            --spacing-unit: 1rem;
            --accent-color: #4CAF50;
            --accent-rgb: 76, 175, 80;
        }

        /* TEMA LIGHT */
        :root[data-theme="light"] {
            --bg-color-dark: #ffffff !important;
            --bg-color-medium: #ffffff !important;
            --bg-color-light: #ffffff !important;
            --text-color: #212529 !important;
            --secondary-text-color: #495057 !important;
            --border-color: #dee2e6 !important;
            --button-bg: #ffffff !important;
            --button-hover-bg: #ffffff !important;
            --accent-color: #007bff !important;
            --accent-rgb: 0, 123, 255 !important;
        }

        /* Remove theme-specific backgrounds for top bar buttons in light mode */
        :root[data-theme="light"] .top-bar-app .login-button,
        :root[data-theme="light"] .top-bar-app .premium-button,
        :root[data-theme="light"] .top-bar-app .language-button {
            background: #111 !important;
            color: #fff !important;
            border: none !important;
            box-shadow: 0 2px 8px #0008 !important;
        }
        :root[data-theme="light"] .top-bar-app .login-button:hover,
        :root[data-theme="light"] .top-bar-app .premium-button:hover,
        :root[data-theme="light"] .top-bar-app .language-button:hover {
            background: #222 !important;
            color: #fff !important;
        }

        /* TEMA DARK */
        :root[data-theme="dark"] {
            --bg-color-dark: #000000 !important;
            --bg-color-medium: #111111 !important;
            --bg-color-light: #222222 !important;
            --text-color: #ffffff !important;
            --secondary-text-color: #cccccc !important;
            --border-color: #444444 !important;
            --button-bg: #000000 !important;
            --button-hover-bg: #111111 !important;
            --accent-color: #4CAF50 !important;
            --accent-rgb: 76, 175, 80 !important;
        }

        /* Garante que todos os textos secund√°rios sigam o tema */
        #mesAtual,
        .historico-header h3,
        .historico-coluna h4,
        #resultadoFinal p,
        #registroOperacoes h3,
        .descricao-op {
            color: var(--text-color);
        }

        /* Mant√©m fundo e contraste baseado no tema */
        body, header, main, #resultadoFinal, #registroOperacoes, .graficos-top, #graficoValores-container, .historico-coluna {
            background: var(--bg-color-dark);
            color: var(--text-color);
        }

        /* Bordas e elementos seguem o tema */
        table.estoque-table th, table.estoque-table td {
            border: 1px solid var(--border-color);
            background: var(--bg-color-dark);
            color: var(--text-color);
        }

        /* Corrige fundo de campos de input baseado no tema */
        .nome-estoque-container input,
        #nomeEstoqueInput,
        .historico-coluna .data-edit,
        input[type="text"],
        input[type="number"],
        input[type="date"],
        table.estoque-table input {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: 2px solid var(--border-color) !important;
        }

        /* For√ßa cores espec√≠ficas para inputs na tabela */
        table.estoque-table input {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: 2px solid transparent !important;
            border-radius: 8px !important;
            padding: 8px 12px !important;
            font-size: 0.9rem !important;
            font-weight: 500 !important;
            transition: all 0.3s ease !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }

        /* Estado de foco dos inputs */
        table.estoque-table input:focus,
        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus {
            outline: none !important;
            border: 2px solid #4CAF50 !important;
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1) !important;
            transform: scale(1.02) !important;
        }

        /* Placeholder dos inputs segue o tema */
        table.estoque-table input::placeholder,
        input[type="text"]::placeholder,
        input[type="number"]::placeholder {
            color: var(--secondary-text-color) !important;
            opacity: 0.7;
            font-style: italic;
        }
        .historico-coluna {
            background: var(--bg-color-dark) !important;
        }
        #registroOperacoes {
            background: var(--bg-color-dark) !important;
        }
        #resultadoFinal {
            background: var(--bg-color-dark) !important;
        }
        .graficos-top, #graficoValores-container {
            background: var(--bg-color-dark) !important;
        }
        /* Remove qualquer cor de fundo intermedi√°ria */
        header, .video-container {
            background: var(--bg-color-dark) !important;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            font-family: 'Poppins', Arial, sans-serif;
            background-color: var(--bg-color-dark) !important;
            color: var(--text-color);
            min-width: 100vw;
            min-height: 100vh;
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
            text-size-adjust: 100%;
            touch-action: manipulation;
            overscroll-behavior: contain;
            scroll-behavior: smooth;
            overflow-x: hidden !important; /* Remove barra de rolagem horizontal */
            overflow-y: auto !important; /* Permite scroll vertical mas sem barra vis√≠vel */
            max-width: 100vw !important; /* Garante que n√£o exceda a largura da viewport */
        }
        body {
            -webkit-tap-highlight-color: rgba(255,255,255,0.1);
            overflow-x: hidden !important; /* Remove barra de rolagem horizontal */
            overflow-y: auto !important; /* Permite scroll vertical mas sem barra vis√≠vel */
            max-width: 100vw !important; /* Garante que n√£o exceda a largura da viewport */
            padding-top: 0 !important; /* Remove padding-top para que o v√≠deo fique logo ap√≥s a barra superior */
        }

        /* Garante que nenhum elemento exceda a largura da viewport */
        * {
            max-width: 100vw !important;
            box-sizing: border-box;
        }

        /* Remove todas as barras de rolagem VISUAIS mas mant√©m funcionalidade */
        *::-webkit-scrollbar {
            display: none;
            width: 0 !important;
            height: 0 !important;
            background: transparent;
        }

        *::-webkit-scrollbar-track {
            background: transparent;
        }

        *::-webkit-scrollbar-thumb {
            background: transparent;
        }

        * {
            -ms-overflow-style: none; /* Internet Explorer 10+ */
            scrollbar-width: none; /* Firefox */
        }

        /* Permite overflow mas esconde a scrollbar visual */
        html, body {
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
        }

        html::-webkit-scrollbar,
        body::-webkit-scrollbar {
            display: none;
            width: 0;
            height: 0;
        }

        /* Restaura overflow normal para elementos que precisam rolar */
        main, section, div {
            overflow: visible;
        }

        /* Exce√ß√µes para elementos que precisam ultrapassar (como o v√≠deo) */
        .video-banner-topo,
        .video-banner-move {
            max-width: none !important;
        }

        /* --- Header & Navigation REORGANIZADO --- */
        header {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 16px;
            background: var(--bg-color-dark);
            margin-top: 0; /* Remove margin para ficar logo ap√≥s o v√≠deo */
            gap: 16px;
        }

        /* === NAVEGA√á√ÉO DE M√äS - DESIGN LIMPO === */
        .month-navigation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin: 20px 0;
        }

        .month-navigation button {
            background: var(--bg-color-dark);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 100px;
        }

        .month-navigation button:hover {
            background: var(--button-hover-bg);
            border-color: var(--accent-color);
            transform: translateY(-1px);
        }

        #mesAtual {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 0 16px;
            background: var(--bg-color-dark);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 16px;
            min-width: 150px;
            text-align: center;
        }

        /* === ESTILOS DOS BOT√ïES DE ESTOQUE - DESIGN LIMPO === */
        .stock-actions {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .stock-actions .nav-button {
            background: var(--bg-color-dark);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            width: 45px;
            height: 45px;
            font-size: 1.4rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stock-actions .nav-button:hover {
            background: var(--button-hover-bg);
            border-color: var(--accent-color);
            transform: translateY(-1px);
        }

        /* Input do nome do estoque */
        .nome-estoque-container {
            flex: 1;
            min-width: 200px;
            max-width: 300px;
        }

        #nomeEstoqueInput {
            width: 100%;
            background: var(--bg-color-dark);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 16px;
            font-size: 1rem;
            text-align: center;
            transition: all 0.2s ease;
        }

        #nomeEstoqueInput:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        #nomeEstoqueInput::placeholder {
            color: var(--secondary-text-color);
        }

        /* Bot√£o Limpar Hist√≥rico */
        #btnLimparHistorico {
            background: var(--bg-color-dark);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        #btnLimparHistorico:hover {
            background: var(--button-hover-bg);
            border-color: var(--accent-color);
            transform: translateY(-1px);
        }

        /* === RESPONSIVIDADE M√ìVEL LIMPA === */
        @media (max-width: 768px) {
            .month-navigation {
                flex-wrap: wrap;
                gap: 12px;
            }
            
            .month-navigation button {
                min-width: 80px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }
            
            #mesAtual {
                min-width: 120px;
                padding: 10px 12px;
                font-size: 1rem;
            }
            
            .stock-actions {
                gap: 12px;
            }
            
            .stock-actions .nav-button {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .nome-estoque-container {
                min-width: 180px;
            }
            
            #nomeEstoqueInput {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
            
            #btnLimparHistorico {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
        }

        /* --- Responsividade dos Bot√µes e Navega√ß√£o --- */
        .month-navigation {
            display: flex;
            flex-direction: row !important;
            align-items: center !important;
            justify-content: space-between !important;
            gap: 8px !important;
            padding: 0 4px !important;
            flex-wrap: nowrap !important;
            min-width: 0 !important;
            width: 100%;
            margin-bottom: 10px;
        }

        .stock-actions {
            display: flex;
            flex-direction: row !important;
            align-items: center !important;
            justify-content: space-between !important;
            gap: 12px !important;
            padding: 0 4px !important;
            flex-wrap: nowrap !important;
            min-width: 0 !important;
            width: 100%;
            margin-bottom: 10px;
        }

        .month-navigation button {
            flex: 0 0 auto;
            min-width: 140px !important;
            white-space: nowrap;
            font-size: 1rem;
            padding: 10px 16px;
        }

        .stock-actions .nav-button {
            flex: 0 0 auto;
            min-width: 50px !important;
            min-height: 50px !important;
            white-space: nowrap;
            font-size: 1.5rem;
            padding: 0;
        }

        #mesAtual {
            flex: 1 1 auto;
            min-width: 0;
            text-align: center;
            font-size: 1.3rem;
            color: var(--text-color) !important;
            margin: 0 8px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: auto !important;
        }

        .nome-estoque-container {
            flex: 1 1 auto;
            min-width: 120px;
            max-width: 250px;
        }

        #nomeEstoqueInput {
            min-width: 120px;
            font-size: 1rem;
        }
        @media (max-width: 400px) {
            .month-navigation {
                gap: 4px !important;
            }
            .stock-actions {
                gap: 6px !important;
            }
            .month-navigation button {
                font-size: 0.9rem;
                padding: 8px 10px;
                min-width: 100px !important;
            }
            .stock-actions .nav-button {
                min-width: 45px !important;
                min-height: 45px !important;
                font-size: 1.3rem;
            }
            #mesAtual {
                font-size: 1rem;
                margin: 0 4px;
            }
            .nome-estoque-container {
                min-width: 100px;
                max-width: 180px;
            }
            #nomeEstoqueInput {
                font-size: 0.9rem;
                padding: 10px 12px;
            }
        }
        @media (max-width: 350px) {
            html, body {
                font-size: 12px;
            }
            header, main, #resultadoFinal, #registroOperacoes, .graficos-top, #graficoValores-container {
                padding: 0 2px !important;
            }
            .month-navigation, .stock-actions {
                gap: 4px !important;
                padding: 0 2px !important;
            }
            .month-navigation button, .stock-actions .nav-button, #btnLimparHistorico {
                font-size: 0.8rem !important;
                padding: 6px 8px !important;
                min-width: 70px !important;
                min-height: 32px !important;
            }
            .stock-actions .nav-button {
                min-width: 40px !important;
                min-height: 40px !important;
                font-size: 1.2rem !important;
            }
            #mesAtual, #nomeEstoqueInput {
                font-size: 0.9rem !important;
                margin: 0 4px !important;
                max-width: 100px !important;
            }
            .stock-actions .nav-button {
                width: 24px !important;
                height: 24px !important;
                font-size: 0.8rem !important;
            }
            table.estoque-table th, table.estoque-table td {
                padding: 2px !important;
                font-size: 0.65rem !important;
            }
            table.estoque-table input {
                font-size: 0.65rem !important;
                padding: 0 !important;
            }
            .graficos-top, #graficoValores-container {
                margin-top: 2px !important;
                padding: 0 2px !important;
            }
            #registroOperacoes ul, .historico-coluna ul {
                max-height: 60px !important;
                padding: 4px !important;
            }
            .historico-coluna li {
                font-size: 0.7rem !important;
                padding: 2px 0 !important;
            }
            .historico-coluna .data-edit {
                font-size: 0.7rem !important;
                width: 60px !important;
                padding: 1px 2px !important;
            }
        }

        /* --- Ultra Ultra Small Devices (at√© 320px) --- */
        @media (max-width: 320px) {
            html, body {
                font-size: 10px;
            }
            .month-navigation button, .stock-actions button, #btnLimparHistorico {
                font-size: 0.75rem !important;
                padding: 4px 6px !important;
                min-width: 60px !important;
                min-height: 28px !important;
            }
            #mesAtual, #nomeEstoqueInput {
                font-size: 0.8rem !important;
                max-width: 100px !important;
            }
            .stock-actions .nav-button {
                width: 18px !important;
                height: 18px !important;
                font-size: 0.7rem !important;
            }
            table.estoque-table th, table.estoque-table td {
                font-size: 0.55rem !important;
            }
            .historico-coluna .data-edit {
                width: 40px !important;
            }
        }

        /* --- Main Content & Table --- */
        main,
        #resultadoFinal,
        #registroOperacoes {
            width: 100%;
            max-width: 100%;
            padding: 0 var(--spacing-unit);
        }

        .nome-estoque-container {
            display: flex;
            justify-content: center;
            flex-grow: 1;
        }

        /* === CAMPO NOME DO ESTOQUE REORGANIZADO === */
        .nome-estoque-container input,
        #nomeEstoqueInput {
            flex: 1;
            max-width: none;
            padding: 12px 16px;
            border-radius: 8px;
            border: 2px solid var(--border-color) !important;
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            font-size: 1rem;
            font-weight: 500;
            text-align: center;
            margin: 0 12px;
            transition: all 0.3s ease;
        }

        #nomeEstoqueInput:focus {
            outline: none;
            border-color: #4CAF50 !important;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        #nomeEstoqueInput::placeholder {
            color: var(--text-color);
            opacity: 0.6;
        }

        /* === TABELA PRINCIPAL REORGANIZADA === */
        .table-responsive {
            width: 100%;
            margin-bottom: 24px;
            background: var(--bg-color-dark);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        table.estoque-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            table-layout: fixed;
            background: var(--bg-color-dark);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 2px solid var(--border-color);
        }

        table.estoque-table th {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: none !important;
            border-bottom: 2px solid var(--border-color) !important;
            padding: 20px 16px;
            text-align: center;
            font-size: 0.95rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            position: relative;
        }

        table.estoque-table th:first-child {
            border-top-left-radius: 16px;
        }

        table.estoque-table th:last-child {
            border-top-right-radius: 16px;
        }

        table.estoque-table td {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: none !important;
            border-bottom: 1px solid var(--border-color) !important;
            padding: 16px 12px;
            text-align: center;
            font-size: 0.9rem;
            transition: background-color 0.2s ease;
        }

        table.estoque-table tr:hover td {
            background: var(--bg-color-medium) !important;
        }

        table.estoque-table tr:last-child td:first-child {
            border-bottom-left-radius: 16px;
        }

        table.estoque-table tr:last-child td:last-child {
            border-bottom-right-radius: 16px;
        }

        table.estoque-table th:nth-child(1),
        table.estoque-table td:nth-child(1) { width: 40%; }
        table.estoque-table th:nth-child(2),
        table.estoque-table td:nth-child(2) { width: 20%; }
        table.estoque-table th:nth-child(3),
        table.estoque-table td:nth-child(3) { width: 20%; }
        table.estoque-table th:nth-child(4),
        table.estoque-table td:nth-child(4) { width: 20%; }

        /* Remove spinners dos inputs number */
        table.estoque-table input[type="number"]::-webkit-inner-spin-button,
        table.estoque-table input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        table.estoque-table input[type="number"] {
            -moz-appearance: textfield;
            appearance: textfield;
        }

        /* === GR√ÅFICOS REORGANIZADOS - Integrados no Main === */
        .graficos-top {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            width: 100%;
            margin: 32px 0 24px 0; /* Margem ajustada para ficar ap√≥s a tabela */
            padding: 0;
        }

        .grafico-meio {
            background: var(--bg-color-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .grafico-meio h3 {
            margin: 0 0 16px 0;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-color) !important;
            text-align: center;
        }

        #graficoPizza, #graficoSaidas {
            width: 100% !important;
            height: auto !important;
            aspect-ratio: 1/1 !important;
            max-width: 350px;
            max-height: 350px;
        }

        #graficoValores-container {
            width: 100%;
            margin: 24px 0;
            padding: 20px;
            background: var(--bg-color-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        #graficoValores-container h3 {
            margin: 0 0 16px 0;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-color) !important;
            text-align: center;
        }
        
        /* Original graficoSaidas-container is now for 'Valor' chart, let's rename it for clarity */
        /* Removed original #graficoSaidas-container as it's being repurposed */

        /* --- Video Banner SEM CAIXA - Faixa sempre Dark de ponta a ponta --- */
        .video-banner-topo {
            position: relative;
            width: 100vw !important;
            max-width: 100vw !important;
            min-width: 100vw !important;
            height: 400px; /* Muito maior para destaque m√°ximo */
            overflow: hidden !important;
            display: block;
            background: #000000 !important;
            margin: 64px auto 0 auto; /* 64px para ficar logo abaixo da barra superior moderna */
            left: 50%;
            transform: translateX(-50%);
            /* Melhorias para apresenta√ß√£o empresarial */
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
            border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px) !important;
        }
        @media (orientation: landscape) {
            .video-banner-topo {
                height: 350px !important; /* Muito maior */
            }
        }
        @media (max-width: 768px) {
            .video-banner-topo {
                height: 300px !important; /* Muito maior */
            }
        }
        @media (max-width: 480px) {
            .video-banner-topo {
                height: 250px !important; /* Muito maior */
            }
        }
        .video-banner-move {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 150vw;
            will-change: transform;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: video-move-x-infinite 18s linear infinite normal;
            background: transparent !important;
            /* Garante centraliza√ß√£o vertical do v√≠deo */
            padding: 5% 0; /* Adiciona padding superior e inferior */
        }
        @keyframes video-move-x-infinite {
            0% { transform: translateX(-50vw); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(100vw); opacity: 0; }
        }
        .video-banner-move video {
            height: 100% !important;
            width: auto !important;
            max-width: 800px !important; /* MUITO MAIOR: 800px */
            min-width: 800px !important; /* MUITO MAIOR: 800px */
            object-fit: contain !important;
            background: transparent !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            display: block;
            margin: 0 auto; /* Centraliza√ß√£o horizontal */
            border: none !important;
            /* Configura√ß√µes empresariais profissionais */
            pointer-events: none !important; /* Remove intera√ß√£o do usu√°rio */
            outline: none !important;
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
            user-select: none !important;
            /* Remove controles nativos */
            -webkit-media-controls: none !important;
            -webkit-media-controls-panel: none !important;
            -webkit-media-controls-play-button: none !important;
            -webkit-media-controls-start-playback-button: none !important;
            -webkit-media-controls-timeline: none !important;
            -webkit-media-controls-current-time-display: none !important;
            -webkit-media-controls-time-remaining-display: none !important;
            -webkit-media-controls-volume-slider: none !important;
            -webkit-media-controls-mute-button: none !important;
            -webkit-media-controls-fullscreen-button: none !important;
            /* Otimiza√ß√£o para apresenta√ß√£o empresarial */
            filter: contrast(1.05) brightness(1.02) saturate(1.1) !important;
            transition: none !important;
        }
        
        /* Remove qualquer possibilidade de controles em diferentes navegadores */
        .video-banner-move video::-webkit-media-controls {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-panel {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-play-button {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-start-playback-button {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-timeline {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-current-time-display {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-time-remaining-display {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-volume-slider {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-mute-button {
            display: none !important;
        }
        .video-banner-move video::-webkit-media-controls-fullscreen-button {
            display: none !important;
        }
        @media (max-width: 768px) {
            .video-banner-move video {
                max-width: 700px !important; /* Proporcionalmente aumentado */
                min-width: 700px !important; /* Proporcionalmente aumentado */
            }
        }
        @media (max-width: 480px) {
            .video-banner-move video {
                max-width: 650px !important; /* Proporcionalmente aumentado */
                min-width: 650px !important; /* Proporcionalmente aumentado */
            }
        }
        .dcode-logo-banner {
            display: none;
        }

        /* === SE√á√ïES DE RESULTADOS REORGANIZADAS === */
        #resultadoFinal {
            max-width: 1200px;
            margin: 24px auto;
            padding: 24px;
            text-align: center;
            background: var(--bg-color-dark);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        #resultadoFinal p {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 8px 0;
            color: var(--text-color) !important;
        }

        #registroOperacoes {
            max-width: 1200px;
            margin: 24px auto;
            background: var(--bg-color-dark);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .historico-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .historico-header h3 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-color) !important;
        }

        #btnLimparHistorico {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #btnLimparHistorico:hover {
            background: var(--button-hover-bg) !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        #registroOperacoes ul {
            list-style: none;
            padding-left: 0;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            padding: 10px;
            border-radius: 4px;
            background: var(--bg-color-dark);
        }

        #registroOperacoes ul li {
            padding: 4px 0;
            border-bottom: 1px dashed var(--border-color);
            background: var(--bg-color-dark);
            color: var(--text-color);
        }

        #registroOperacoes ul li:last-child {
            border-bottom: none;
        }

        /* === HIST√ìRICO DUPLO REORGANIZADO === */
        .historico-duplo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
        }

        .historico-coluna {
            background: var(--bg-color-dark) !important;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }
        
        /* === FORMUL√ÅRIO DE CART√ÉO ULTRA-MODERNO === */
        .card-form {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            backdrop-filter: blur(20px);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: none;
        }
        
        .card-form.active {
            opacity: 1;
            transform: translateY(0);
            display: block;
            animation: cardFormSlideIn 0.6s ease-out;
        }
        
        @keyframes cardFormSlideIn {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .card-title {
            color: #ffffff;
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 20px 0;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-fields {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }
        
        .card-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .card-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .card-label {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .card-input {
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #ffffff;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .card-input:focus {
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15);
        }
        
        .card-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }
        
        .card-input[type="text"] {
            font-family: 'Inter', 'Courier New', monospace;
        }
        
        /* === √ÅREA PIX ULTRA-MODERNA === */
        .pix-area {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, rgba(0, 191, 99, 0.1) 0%, rgba(0, 191, 99, 0.05) 100%);
            border: 2px solid rgba(0, 191, 99, 0.3);
            border-radius: 16px;
            backdrop-filter: blur(20px);
        }
        
        .pix-title {
            color: #00bf63;
            font-size: 20px;
            font-weight: 700;
            margin: 0 0 20px 0;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .pix-title::before {
            content: "üè¶";
            font-size: 24px;
        }
        
        .pix-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .pix-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .pix-label {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 600;
        }
        
        .pix-key-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .pix-key-input {
            flex: 1;
            padding: 14px 16px;
            background: rgba(0, 191, 99, 0.1);
            border: 2px solid rgba(0, 191, 99, 0.3);
            border-radius: 10px;
            color: #ffffff;
            font-size: 14px;
            font-weight: 500;
            font-family: 'Courier New', monospace;
            outline: none;
            cursor: text;
        }
        
        .copy-pix-btn {
            padding: 14px 18px;
            background: #00bf63;
            border: none;
            border-radius: 10px;
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            min-width: 100px;
            justify-content: center;
        }
        
        .copy-pix-btn:hover {
            background: #00a855;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 191, 99, 0.4);
        }
        
        .copy-pix-btn:active {
            transform: translateY(0);
        }
        
        .copy-pix-btn.copied {
            background: #4CAF50;
            animation: copySuccess 0.6s ease;
        }
        
        @keyframes copySuccess {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pix-instructions {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid #00bf63;
        }
        
        .pix-instructions p {
            margin: 0;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            line-height: 1.5;
        }
        
        @media (max-width: 480px) {
            .pix-key-container {
                flex-direction: column;
                gap: 12px;
            }
            
            .copy-pix-btn {
                width: 100%;
            }
            
            .pix-area {
                padding: 20px;
                margin-top: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .card-row {
                grid-template-columns: 1fr;
                gap: 18px;
            }
            
            .card-form {
                padding: 20px;
                margin-top: 20px;
            }
        }

        .card-visual {
            background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            color: var(--text-color);
            font-family: 'Courier New', monospace;
        }

        .card-number-display {
            font-size: 1.4rem;
            letter-spacing: 3px;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .card-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-holder {
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .card-expiry {
            font-size: 0.9rem;
        }

        .card-inputs {
            display: grid;
            gap: 16px;
        }

        .card-input-group {
            position: relative;
        }

        .card-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            background: rgba(0,0,0,0.3);
            color: var(--text-color);
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .card-input:focus {
            outline: none;
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
            box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.1);
        }

        .card-input::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .card-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 16px;
        }

        .card-actions {
            display: flex;
            gap: 16px;
            margin-top: 25px;
        }

        .btn-card-cancel,
        .btn-card-confirm {
            flex: 1;
            padding: 16px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-card-cancel {
            background: transparent;
            color: #ccc;
            border: 2px solid #666;
        }

        .btn-card-cancel:hover {
            background: #333;
            border-color: #999;
        }

        .btn-card-confirm {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            font-weight: 700;
        }

        .btn-card-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .historico-coluna h4 {
            margin: 0 0 12px 0;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-color) !important;
            text-align: center;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .historico-coluna ul {
            list-style: none;
            padding: 0;
            margin: 0;
            flex: 1;
            max-height: 200px;
            overflow-y: auto;
        }

        .historico-coluna li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
            color: var(--text-color) !important;
        }

        .historico-coluna li:last-child {
            border-bottom: none;
        }

        .historico-coluna .data-edit {
            background: var(--bg-color-dark) !important;
            color: var(--text-color) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: 6px;
            font-size: 0.85rem;
            padding: 4px 8px;
            width: 120px;
            transition: all 0.3s ease;
        }

        .historico-coluna .data-edit:focus {
            outline: none !important;
            border-color: #4CAF50 !important;
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }
        /* For√ßa cor do √≠cone do calend√°rio baseado no tema */
        :root[data-theme="dark"] .historico-coluna .data-edit::-webkit-calendar-picker-indicator {
            filter: invert(1);
        }
        :root[data-theme="light"] .historico-coluna .data-edit::-webkit-calendar-picker-indicator {
            filter: invert(0);
        }
        /* Placeholder segue o tema */
        .historico-coluna .data-edit:invalid {
            color: var(--text-color) !important;
        }

        /* For√ßa cor baseada no tema em todos os elementos do hist√≥rico */
        .historico-coluna,
        .historico-coluna h4,
        .historico-coluna ul,
        .historico-coluna li,
        .historico-coluna li *,
        .historico-duplo,
        #registroOperacoes,
        #registroOperacoes h3,
        #registroOperacoes ul,
        #registroOperacoes ul li,
        #registroOperacoes ul li *,
        .historico-header h3 {
            color: var(--text-color) !important;
            background: var(--bg-color-dark) !important;
        }

        /* === CSS PARA BADGES DOS PLANOS === */
        .plan-badge {
            position: absolute;
            top: -15px;
            right: 15px;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 700;
            transform: translateY(-3px);
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 10;
            white-space: nowrap;
            min-width: fit-content;
        }

        /* Badge "B√°sico" - tema espec√≠fico */
        .plan-option[data-plan="monthly"] .plan-badge {
            background: linear-gradient(135deg, #666, #777);
            color: #ffffff !important;
            box-shadow: 0 3px 10px rgba(102, 102, 102, 0.3);
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        /* Badge "Mais Popular" - tema espec√≠fico */
        .plan-option[data-plan="annual"] .plan-badge {
            background: linear-gradient(135deg, #4CAF50, #45a049, #66BB6A);
            color: #ffffff !important;
            box-shadow: 
                0 4px 15px rgba(76, 175, 80, 0.4),
                inset 0 1px 0 rgba(255,255,255,0.3);
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }

        /* Estados n√£o selecionados */
        .plan-option:not(.selected) .plan-badge {
            opacity: 0.8;
            transform: translateY(-3px) scale(0.95);
        }

        /* Tema claro - ajustes especiais para badges */
        :root[data-theme="light"] .plan-option[data-plan="monthly"] .plan-badge {
            background: linear-gradient(135deg, #333, #444) !important;
            color: #ffffff !important;
            box-shadow: 0 3px 10px rgba(51, 51, 51, 0.3) !important;
        }

        :root[data-theme="light"] .plan-option[data-plan="annual"] .plan-badge {
            background: linear-gradient(135deg, #4CAF50, #45a049, #66BB6A) !important;
            color: #ffffff !important;
        }

        /* Tema light - corre√ß√µes especiais para badges apenas */

        .plan-option {
            position: relative;
            padding: 25px 20px;
            border: 2px solid var(--border-color);
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            background: var(--bg-color-dark);
            margin: 10px;
        }

        .plan-option.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(76, 175, 80, 0.2);
        }        /* === BARRA SUPERIOR SEMPRE DARK PARA M√ÅXIMO CONTRASTE === */
        .top-bar-app {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: rgba(0, 0, 0, 0.9) !important; /* SEMPRE DARK para contraste */
            border: none !important; 
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3) !important; /* Sombra para destacar */
            display: flex;
            align-items: center;
            justify-content: space-evenly;
            padding: 0 16px;
            z-index: 100;
            gap: 8px;
            backdrop-filter: blur(15px) !important; /* Blur premium */
            -webkit-backdrop-filter: blur(15px) !important;
        }

        /* For√ßa tema dark na barra superior SEMPRE */
        :root[data-theme="light"] .top-bar-app,
        body[data-theme="light"] .top-bar-app,
        [data-theme="light"] .top-bar-app {
            background: rgba(0, 0, 0, 0.9) !important; /* SEMPRE DARK */
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3) !important;
        }

        /* Remove estilos dos containers antigos que n√£o existem mais */
        .top-bar-left,
        .top-bar-right {
            display: none !important;
        }

        /* Remove refer√™ncias ao espa√ßador que foi removido */
        .top-bar-app > div[style*="flex:1"] {
            display: none !important;
        }

        /* === RESPONSIVIDADE MOBILE - DISTRIBUI√á√ÉO UNIFORME === */
        @media screen and (max-width: 768px) {
            .top-bar-app {
                height: 60px;
                padding: 0 12px;
                gap: 6px;
            }
            .login-button, .premium-button {
                font-size: 0.8rem;
                padding: 8px 10px;
                min-width: 55px;
                height: 40px;
            }
            .language-button {
                width: 40px !important;
                height: 40px;
                padding: 6px !important;
            }
            .language-button .globe-container {
                width: 32px;
                height: 32px;
            }
            .language-button .globe-icon {
                width: 18px !important;
                height: 18px !important;
            }
            .language-button .country-flag {
                font-size: 14px !important;
                width: 18px !important;
                height: 18px !important;
            }
            #themeToggleTop, #btnShare, #btnNotify {
                width: 44px;
                height: 44px;
                padding: 10px;
                font-size: 1.2rem;
            }
        }
        @media screen and (max-width: 480px) {
            .top-bar-app { 
                height: 56px;
                padding: 0 8px;
                gap: 4px;
            }
            .login-button, .premium-button {
                font-size: 0.75rem; 
                padding: 6px 8px; 
                min-width: 50px;
                height: 36px;
            }
            .language-button {
                width: 36px !important;
                height: 36px;
                padding: 4px !important;
            }
            .language-button .globe-container {
                width: 28px;
                height: 28px;
            }
            .language-button .globe-icon {
                width: 16px !important;
                height: 16px !important;
            }
            .language-button .country-flag {
                font-size: 12px !important;
                width: 16px !important;
                height: 16px !important;
            }
            #themeToggleTop, #btnShare, #btnNotify {
                width: 40px; 
                height: 40px; 
                padding: 8px;
                font-size: 1.1rem;
            }
        }
        @media screen and (max-width: 380px) {
            .top-bar-app { 
                height: 52px;
                padding: 0 6px;
                gap: 3px;
            }
            .login-button, .premium-button {
                font-size: 0.7rem; 
                padding: 5px 6px; 
                min-width: 45px;
                height: 34px;
            }
            .language-button {
                width: 34px !important;
                height: 34px;
                padding: 3px !important;
            }
            .language-button .globe-container {
                width: 26px;
                height: 26px;
            }
            .language-button .globe-icon {
                width: 14px !important;
                height: 14px !important;
            }
            .language-button .country-flag {
                font-size: 10px !important;
                width: 14px !important;
                height: 14px !important;
            }
            #themeToggleTop, #btnShare, #btnNotify {
                width: 38px; 
                height: 38px; 
                padding: 7px;
                font-size: 1rem;
            }
        }
        @media screen and (max-width: 320px) {
            .top-bar-app {
                height: 48px;
                padding: 0 4px;
                gap: 2px;
            }
            .login-button, .premium-button {
                font-size: 0.65rem; 
                padding: 4px 5px; 
                min-width: 40px;
                height: 32px;
            }
            .language-button {
                width: 32px !important;
                height: 32px;
                padding: 2px !important;
            }
            .language-button .globe-container {
                width: 24px;
                height: 24px;
            }
            .language-button .globe-icon {
                width: 12px !important;
                height: 12px !important;
            }
            .language-button .country-flag {
                font-size: 9px !important;
                width: 12px !important;
                height: 12px !important;
            }
            #themeToggleTop, #btnShare, #btnNotify {
                width: 36px; 
                height: 36px; 
                padding: 6px;
                font-size: 0.95rem;
            }
        }

        /* === LAYOUT LIMPO - SEM CONTAINERS DESNECESS√ÅRIOS === */


        /* === BOT√ïES DE COMPARTILHAMENTO ULTRA-MODERNOS E VIS√çVEIS === */
        #shareWhatsapp, #shareEmail, #sharePdf {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 54px;
            height: 54px;
            margin: 0 8px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #232526 0%, #414345 100%);
            box-shadow: 0 4px 16px rgba(76,175,80,0.10), 0 1.5px 6px rgba(0,0,0,0.10);
            transition: box-shadow 0.2s, transform 0.2s, background 0.2s;
            cursor: pointer;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }
        #shareWhatsapp svg,
        #shareEmail svg,
        #sharePdf svg {
            width: 28px;
            height: 28px;
            display: block;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.10));
        }
        #shareWhatsapp {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            box-shadow: 0 4px 16px rgba(37,211,102,0.18), 0 1.5px 6px rgba(0,0,0,0.10);
        }
        #shareEmail {
            background: linear-gradient(135deg, #4285F4 0%, #34A853 100%);
            box-shadow: 0 4px 16px rgba(66,133,244,0.18), 0 1.5px 6px rgba(0,0,0,0.10);
        }
        #sharePdf {
            background: linear-gradient(135deg, #FF5252 0%, #FF1744 100%);
            box-shadow: 0 4px 16px rgba(255,82,82,0.18), 0 1.5px 6px rgba(0,0,0,0.10);
        }
        #shareWhatsapp:hover, #shareWhatsapp:focus {
            background: linear-gradient(135deg, #128C7E 0%, #25D366 100%);
            box-shadow: 0 6px 24px rgba(37,211,102,0.28), 0 2px 8px rgba(0,0,0,0.12);
            transform: scale(1.08);
        }
        #shareEmail:hover, #shareEmail:focus {
            background: linear-gradient(135deg, #34A853 0%, #4285F4 100%);
            box-shadow: 0 6px 24px rgba(66,133,244,0.28), 0 2px 8px rgba(0,0,0,0.12);
            transform: scale(1.08);
        }
        #sharePdf:hover, #sharePdf:focus {
            background: linear-gradient(135deg, #FF1744 0%, #FF5252 100%);
            box-shadow: 0 6px 24px rgba(255,82,82,0.28), 0 2px 8px rgba(0,0,0,0.12);
            transform: scale(1.08);
        }
        #shareWhatsapp:active, #shareEmail:active, #sharePdf:active {
            filter: brightness(0.95);
            transform: scale(0.97);
        }
        /* Pequeno efeito de ripple ao clicar */
        #shareWhatsapp::after, #shareEmail::after, #sharePdf::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.18);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, opacity 0.3s;
            opacity: 0;
            pointer-events: none;
            z-index: 2;
        }
        #shareWhatsapp:active::after, #shareEmail:active::after, #sharePdf:active::after {
            width: 120%;
            height: 120%;
            opacity: 1;
            transition: 0s;
        }

        /* === MENU DE IDIOMAS === */
        .language-option:hover {
            background: var(--bg-color-medium) !important;
            color: #4CAF50 !important;
            transform: translateX(4px);
        }

        .language-option.selected {
            background: rgba(76, 175, 80, 0.1) !important;
            color: #4CAF50 !important;
            border-left: 3px solid #4CAF50;
        }

        /* --- Fim Header & Navigation REORGANIZADO --- */

        /* === RESUMO DE ITENS REORGANIZADO - FORMATO LINHA === */
        #resumoItens {
            max-width: 1200px;
            margin: 24px auto;
            background: var(--bg-color-dark);
            padding: 24px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .resumo-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .resumo-header h3 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-color) !important;
        }

        #listaResumoItens {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 8px;
        }

        /* Custom scrollbar para melhor apar√™ncia */
        #listaResumoItens::-webkit-scrollbar {
            width: 6px;
        }

        #listaResumoItens::-webkit-scrollbar-track {
            background: var(--bg-color-medium);
            border-radius: 3px;
        }

        #listaResumoItens::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        #listaResumoItens::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        .resumo-item {
            background: linear-gradient(135deg, var(--bg-color-dark) 0%, var(--bg-color-medium) 100%);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            min-height: 50px;
        }

        .resumo-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, #4CAF50, #2196F3, #FF9800);
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 8px 0 0 8px;
        }

        .resumo-item:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            border-color: var(--accent-color);
        }

        .resumo-item:hover::before {
            opacity: 1;
        }

        .resumo-item-info {
            display: flex;
            align-items: center;
            gap: 16px;
            flex: 1;
        }

        .resumo-item-nome {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 0;
            min-width: 120px;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .resumo-item-valores {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-shrink: 0;
        }

        .resumo-entrada,
        .resumo-saida {
            display: flex;
            align-items: center;
            gap: 4px;
            font-weight: 500;
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 4px;
            min-width: 60px;
            justify-content: center;
        }

        .resumo-entrada {
            color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .resumo-entrada::before {
            content: '‚Üó';
            font-size: 0.8rem;
        }

        .resumo-saida {
            color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .resumo-saida::before {
            content: '‚Üò';
            font-size: 0.8rem;
        }

        .resumo-saldo {
            font-weight: 700;
            font-size: 0.95rem;
            padding: 6px 12px;
            border-radius: 6px;
            min-width: 70px;
            text-align: center;
            border: 1px solid;
        }

        .resumo-saldo.positivo {
            color: #4CAF50;
            background: rgba(76, 175, 80, 0.15);
            border-color: rgba(76, 175, 80, 0.3);
        }

        .resumo-saldo.negativo {
            color: #f44336;
            background: rgba(244, 67, 54, 0.15);
            border-color: rgba(244, 67, 54, 0.3);
        }

        .resumo-saldo.zero {
            color: var(--text-color);
            background: rgba(128, 128, 128, 0.15);
            border-color: rgba(128, 128, 128, 0.3);
        }

        .resumo-vazio {
            text-align: center;
            color: var(--secondary-text-color);
            font-style: italic;
            padding: 40px 20px;
            width: 100%;
        }

        @media (max-width: 768px) {
            .resumo-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 16px;
                gap: 12px;
            }
            
            .resumo-item-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                width: 100%;
            }
            
            .resumo-item-nome {
                min-width: auto;
                max-width: none;
            }
            
            .resumo-item-valores {
                justify-content: space-between;
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .resumo-item-valores {
                flex-direction: column;
                gap: 8px;
                align-items: flex-start;
            }
        }



        /* Remove todas as regras antigas dos bot√µes espec√≠ficos que foram reorganizadas */
        /* === BOT√ÉO TEMA REORGANIZADO === */
        /* === BOT√ÉO SHARE REORGANIZADO === */

        /* === BOT√ïES DA BARRA SUPERIOR - SEMPRE VIS√çVEIS === */
        /* Remove TODAS as caixas dos bot√µes MAS garante visibilidade */
        /* === BOT√ïES SEMPRE VIS√çVEIS - M√ÅXIMA PRIORIDADE === */
        .top-bar-app .login-button,
        .top-bar-app .premium-button,
        .top-bar-app .language-button,
        .top-bar-app #themeToggleTop,
        .top-bar-app #btnShare,
        .top-bar-app #btnNotify {
            background: transparent !important;
            border: none !important;
            box-shadow: none !important;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            opacity: 1 !important; /* SEMPRE VIS√çVEL */
            visibility: visible !important; /* SEMPRE VIS√çVEL */
            display: inline-flex !important; /* SEMPRE VIS√çVEL */
        }
        
        /* Para tema claro - permitir backgrounds coloridos */
        body[data-theme="light"] .top-bar-app .login-button,
        body[data-theme="light"] .top-bar-app .premium-button,
        body[data-theme="light"] .top-bar-app .language-button,
        body[data-theme="light"] .top-bar-app #themeToggleTop,
        body[data-theme="light"] .top-bar-app #btnShare,
        body[data-theme="light"] .top-bar-app #btnNotify,
        :root[data-theme="light"] .top-bar-app .login-button,
        :root[data-theme="light"] .top-bar-app .premium-button,
        :root[data-theme="light"] .top-bar-app .language-button,
        :root[data-theme="light"] .top-bar-app #themeToggleTop,
        :root[data-theme="light"] .top-bar-app #btnShare,
        :root[data-theme="light"] .top-bar-app #btnNotify {
            background: initial !important; /* Permitir background personalizado */
            border: initial !important; /* Permitir border personalizada */
            box-shadow: initial !important; /* Permitir shadow personalizada */
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            opacity: 1 !important; /* SEMPRE VIS√çVEL */
            visibility: visible !important; /* SEMPRE VIS√çVEL */
            display: inline-flex !important; /* SEMPRE VIS√çVEL */
        }

        /* === CORES ESPEC√çFICAS PARA CADA BOT√ÉO - SEMPRE VIS√çVEIS EM QUALQUER TEMA === */
        .top-bar-app .login-button,
        body[data-theme="light"] .top-bar-app .login-button,
        :root[data-theme="light"] .top-bar-app .login-button {
            color: #4CAF50 !important;
        }

        .top-bar-app .premium-button,
        body[data-theme="light"] .top-bar-app .premium-button,
        :root[data-theme="light"] .top-bar-app .premium-button {
            color: #FFC107 !important;
        }

        /* === BOT√ïES DE A√á√ÉO CR√çTICOS - SEMPRE VIS√çVEIS === */
        .top-bar-app #themeToggleTop,
        body[data-theme="light"] .top-bar-app #themeToggleTop,
        :root[data-theme="light"] .top-bar-app #themeToggleTop {
            color: #2196F3 !important; /* Azul vibrante */
            opacity: 1 !important;
            visibility: visible !important;
            display: inline-flex !important;
        }

        .top-bar-app #btnShare,
        body[data-theme="light"] .top-bar-app #btnShare,
        :root[data-theme="light"] .top-bar-app #btnShare {
            color: #FF9800 !important; /* Laranja vibrante - SEMPRE VIS√çVEL */
            opacity: 1 !important;
            visibility: visible !important;
            display: inline-flex !important;
        }

        .top-bar-app #btnNotify,
        body[data-theme="light"] .top-bar-app #btnNotify,
        :root[data-theme="light"] .top-bar-app #btnNotify {
            color: #E91E63 !important; /* Rosa vibrante - SEMPRE VIS√çVEL */
            opacity: 1 !important;
            visibility: visible !important;
            display: inline-flex !important;
        }

        .top-bar-app .language-button,
        body[data-theme="light"] .top-bar-app .language-button,
        :root[data-theme="light"] .top-bar-app .language-button {
            color: #9C27B0 !important; /* Roxo vibrante */
        }

        /* Estados hover - APENAS COR, SEM CAIXAS para tema escuro */
        .top-bar-app .login-button:hover,
        .top-bar-app .premium-button:hover,
        .top-bar-app .language-button:hover,
        .top-bar-app #themeToggleTop:hover,
        .top-bar-app #btnShare:hover,
        .top-bar-app #btnNotify:hover {
            background: transparent !important; /* Sem fundo */
            border: none !important; /* Sem borda */
            box-shadow: none !important; /* Sem sombra */
        }
        
        /* Estados hover para tema claro - permitir backgrounds */
        body[data-theme="light"] .top-bar-app .login-button:hover,
        body[data-theme="light"] .top-bar-app .premium-button:hover,
        body[data-theme="light"] .top-bar-app .language-button:hover,
        body[data-theme="light"] .top-bar-app #themeToggleTop:hover,
        body[data-theme="light"] .top-bar-app #btnShare:hover,
        body[data-theme="light"] .top-bar-app #btnNotify:hover,
        :root[data-theme="light"] .top-bar-app .login-button:hover,
        :root[data-theme="light"] .top-bar-app .premium-button:hover,
        :root[data-theme="light"] .top-bar-app .language-button:hover,
        :root[data-theme="light"] .top-bar-app #themeToggleTop:hover,
        :root[data-theme="light"] .top-bar-app #btnShare:hover,
        :root[data-theme="light"] .top-bar-app #btnNotify:hover {
            background: initial !important; /* Permitir background personalizado */
            border: initial !important; /* Permitir border personalizada */
            box-shadow: initial !important; /* Permitir shadow personalizada */
        }
        .top-bar-app .login-button:hover {
            color: #66BB6A !important; /* Apenas cor para tema escuro */
        }

        .top-bar-app .premium-button:hover {
            color: #FFD54F !important; /* Apenas cor para tema escuro */
        }

        .top-bar-app #themeToggleTop:hover,
        body[data-theme="light"] .top-bar-app #themeToggleTop:hover,
        :root[data-theme="light"] .top-bar-app #themeToggleTop:hover {
            color: #42A5F5 !important; /* Azul mais claro no hover */
        }

        .top-bar-app #btnShare:hover,
        body[data-theme="light"] .top-bar-app #btnShare:hover,
        :root[data-theme="light"] .top-bar-app #btnShare:hover {
            color: #FFB74D !important; /* Laranja mais claro no hover */
        }

        .top-bar-app #btnNotify:hover,
        body[data-theme="light"] .top-bar-app #btnNotify:hover,
        :root[data-theme="light"] .top-bar-app #btnNotify:hover {
            color: #F06292 !important; /* Rosa mais claro no hover */
        }

        .top-bar-app .language-button:hover,
        body[data-theme="light"] .top-bar-app .language-button:hover,
        :root[data-theme="light"] .top-bar-app .language-button:hover {
            color: #BA68C8 !important; /* Roxo mais claro no hover */
        }

        /* === BARRA SUPERIOR SEMPRE DARK - M√ÅXIMA PRIORIDADE === */
        .top-bar-app,
        body[data-theme="light"] .top-bar-app,
        :root[data-theme="light"] .top-bar-app,
        [data-theme="light"] .top-bar-app {
            background: rgba(0, 0, 0, 0.95) !important; /* SEMPRE DARK */
            border: none !important;
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.4) !important; /* Sombra forte */
            backdrop-filter: blur(20px) !important;
            -webkit-backdrop-filter: blur(20px) !important;
        }
        
        /* === BOT√ïES DO TOPO - VISUAL ULTRA MODERNO E LIVRE === */
        .login-button {
            background: none !important; /* Totalmente transparente */
            border: none !important; /* Sem borda */
            box-shadow: none !important; /* Sem sombra */
            color: #4CAF50 !important; /* Apenas cor do texto */
            padding: 10px 16px;
            border-radius: 0 !important; /* Sem bordas por padr√£o */
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); /* Transi√ß√£o suave e longa */
            height: 44px;
            min-width: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            position: relative;
            overflow: hidden;
        }

        .login-button:hover {
            background: transparent !important; /* Sem fundo no hover */
            color: #66BB6A !important;
            transform: translateY(-2px) scale(1.01); /* Movimento mais suave */
            box-shadow: none !important; /* Sem sombra */
            border-radius: 0 !important; /* Sem bordas arredondadas */
        }

        .login-button.logged-in {
            background: none !important;
            color: #4CAF50 !important;
            opacity: 0.8;
        }

        /* === BOT√ÉO PREMIUM ULTRA MODERNO === */
        .premium-button {
            background: none !important; /* Totalmente transparente */
            border: none !important; /* Sem borda */
            box-shadow: none !important; /* Sem sombra */
            color: #FFC107 !important; /* Apenas cor do texto */
            padding: 10px 16px;
            border-radius: 0 !important; /* Sem bordas por padr√£o */
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); /* Transi√ß√£o suave e longa */
            height: 44px;
            min-width: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            position: relative;
            overflow: hidden;
        }

        .premium-button:hover {
            background: transparent !important; /* Sem fundo no hover */
            color: #FFD54F !important;
            transform: translateY(-2px) scale(1.01); /* Movimento mais suave */
            box-shadow: none !important; /* Sem sombra */
            border-radius: 0 !important; /* Sem bordas arredondadas */
        }

        /* === BOT√ÉO IDIOMA ULTRA-MODERNO COM GLOBO E BANDEIRA === */
        .language-button {
            background: transparent !important;
            border: none !important;
            color: var(--text-color) !important;
            padding: 8px !important;
            border-radius: 50% !important; /* Circular para modernidade */
            font-size: 1.2rem !important;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 48px;
            width: 48px !important;
            min-width: 48px !important;
            position: relative;
            overflow: visible !important;
        }

        .language-button:hover {
            background: rgba(var(--accent-rgb), 0.08) !important; /* Fundo sutil moderno */
            color: var(--accent-color) !important;
            transform: translateY(-3px) scale(1.02) !important; /* Movimento suave reduzido */
            box-shadow: 0 8px 25px rgba(var(--accent-rgb), 0.15) !important; /* Sombra moderna */
            border-radius: 50% !important; /* Mant√©m circular */
        }

        /* Container do globo ultra-moderno */
        .globe-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 38px;
            height: 38px;
            border-radius: 50% !important; /* Perfeitamente circular */
            background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.1), rgba(var(--accent-rgb), 0.05)) !important;
            backdrop-filter: blur(8px) !important;
            border: 2px solid rgba(var(--accent-rgb), 0.2) !important;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 
                inset 0 1px 3px rgba(255,255,255,0.1),
                0 2px 8px rgba(0,0,0,0.1);
        }

        /* Efeitos no hover do globo */
        .language-button:hover .globe-container {
            background: linear-gradient(135deg, rgba(var(--accent-rgb), 0.25), rgba(var(--accent-rgb), 0.15)) !important;
            border-color: rgba(var(--accent-rgb), 0.4) !important;
            transform: scale(1.1) !important;
            box-shadow: 
                inset 0 1px 3px rgba(255,255,255,0.2),
                0 6px 20px rgba(var(--accent-rgb), 0.3);
        }

        /* √çcone do globo moderno */
        .globe-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px !important;
            height: 20px !important;
            stroke: currentColor;
            fill: none;
            opacity: 0.7;
            transition: all 0.5s ease;
            z-index: 1;
            animation: globe-spin 3s linear infinite;
        }

        @keyframes globe-spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .language-button:hover .globe-icon {
            opacity: 0.9;
            transform: translate(-50%, -50%) scale(1.1);
        }

        /* Bandeira do pa√≠s selecionado - ultra-moderna */
        .country-flag {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 18px !important;
            width: 24px !important;
            height: 24px !important;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(4px);
        }

        .language-button:hover .country-flag {
            transform: translate(-50%, -50%) scale(1.15);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
            background: rgba(255,255,255,0.2);
        }

        /* Efeito de brilho no globo */
        .globe-container::before {
            content: '';
            position: absolute;
            top: 15%;
            left: 20%;
            width: 8px;
            height: 8px;
            background: rgba(255,255,255,0.6);
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .language-button:hover .globe-container::before {
            opacity: 1;
        }

        /* === BOT√ÉO TEMA LIVRE ULTRA-MODERNO === */
        #themeToggleTop {
            background: transparent !important; /* Sem background */
            border: none !important; /* Sem border */
            color: #2196F3 !important; /* COR FIXA AZUL para visibilidade */
            padding: 12px;
            border-radius: 0 !important; /* Sem bordas por padr√£o */
            font-size: 1.4rem;
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important; /* Transi√ß√£o premium */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            position: relative;
        }

        #themeToggleTop:hover {
            background: transparent !important; /* Sem fundo no hover */
            color: #42A5F5 !important; /* Azul mais claro no hover */
            transform: translateY(-2px) scale(1.01) !important; /* Movimento mais suave */
            box-shadow: none !important; /* Sem sombra */
            border-radius: 0 !important; /* Sem bordas arredondadas */
        }

        /* === BOT√ÉO SHARE LIVRE ULTRA-MODERNO === */
        #btnShare {
            background: transparent !important; /* Sem background */
            border: none !important; /* Sem border */
            color: #FF9800 !important; /* COR FIXA LARANJA para visibilidade */
            padding: 12px;
            border-radius: 0; /* Sem bordas por padr√£o */
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important; /* Transi√ß√£o premium */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            position: relative;
        }

        #btnShare:hover {
            background: transparent !important; /* Sem fundo no hover */
            color: #FFB74D !important; /* Laranja mais claro no hover */
            transform: translateY(-2px) scale(1.01) !important; /* Movimento mais suave */
            box-shadow: none !important; /* Sem sombra */
            border-radius: 0 !important; /* Sem bordas arredondadas */
        }

        #btnShare svg {
            stroke: currentColor;
            fill: none;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* === FOR√áA COR ESPEC√çFICA DO SVG DO SHARE NO TEMA LIGHT === */
        body[data-theme="light"] #btnShare svg,
        :root[data-theme="light"] #btnShare svg {
            stroke: #FF9800 !important; /* For√ßa laranja escuro no tema light */
            color: #FF9800 !important;
        }

        /* === BOT√ÉO NOTIFICA√á√ÉO LIVRE ULTRA-MODERNO === */
        #btnNotify {
            background: transparent !important; /* Sem background */
            border: none !important; /* Sem border */
            color: #E91E63 !important; /* COR FIXA ROSA para visibilidade */
            padding: 12px;
            border-radius: 0; /* Sem bordas por padr√£o */
            cursor: pointer;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important; /* Transi√ß√£o premium */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            position: relative;
        }

        #btnNotify:hover {
            background: transparent !important; /* Sem fundo no hover */
            color: #F06292 !important; /* Rosa mais claro no hover */
            transform: translateY(-2px) scale(1.01) !important; /* Movimento mais suave */
            box-shadow: none !important; /* Sem sombra */
            border-radius: 0 !important; /* Sem bordas arredondadas */
        }

        #btnNotify svg {
            stroke: currentColor;
            fill: none;
            width: 26px;
            height: 26px;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* === FOR√áA CORES ESPEC√çFICAS DOS SVGs NO TEMA LIGHT === */
        body[data-theme="light"] #btnNotify svg,
        :root[data-theme="light"] #btnNotify svg {
            stroke: #E91E63 !important; /* Rosa vibrante no tema light */
            color: #E91E63 !important;
        }

        body[data-theme="light"] #themeToggleTop,
        :root[data-theme="light"] #themeToggleTop {
            color: #2196F3 !important; /* Azul vibrante no tema light */
        }

        /* === MODAL DE LOGIN ULTRA MODERNO === */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: modalBgFadeIn 0.5s ease-out;
        }

        @keyframes modalBgFadeIn {
            from { background: rgba(0, 0, 0, 0); }
            to { background: rgba(0, 0, 0, 0.85); }
        }

        .login-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .login-container {
            background: var(--bg-color-dark);
            border: 2px solid rgba(var(--accent-rgb), 0.4);
            border-radius: 32px;
            padding: 50px;
            width: 100%;
            max-width: 480px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 35px 80px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                0 0 0 1px rgba(var(--accent-rgb), 0.1);
            transform: scale(0.7) translateY(80px) rotateX(15deg);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            perspective: 1000px;
        }

        .login-modal.active .login-container {
            transform: scale(1) translateY(0) rotateX(0deg);
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #4CAF50, #2196F3, #FF9800, #E91E63, #9C27B0);
            background-size: 300% 100%;
            animation: gradient-flow 4s ease-in-out infinite;
        }

        @keyframes gradient-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .login-container::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(var(--accent-rgb), 0.03) 0%, transparent 70%);
            animation: pulse-glow 3s ease-in-out infinite alternate;
            pointer-events: none;
        }

        @keyframes pulse-glow {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(1.2); opacity: 0.1; }
        }

        .login-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 2;
        }

        .login-title {
            font-size: 2.4rem;
            font-weight: 800;
            color: var(--text-color);
            margin: 0 0 12px 0;
            background: linear-gradient(135deg, var(--accent-color) 0%, #2196F3 50%, #9C27B0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% 200%;
            animation: text-shimmer 3s ease-in-out infinite;
            letter-spacing: -0.5px;
        }

        @keyframes text-shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .login-subtitle {
            color: var(--secondary-text-color);
            font-size: 1.05rem;
            font-weight: 400;
            margin: 0;
            opacity: 0.8;
            letter-spacing: 0.3px;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 28px;
            position: relative;
            z-index: 2;
        }

        .form-group {
            position: relative;
            transform: translateX(0);
            transition: transform 0.3s ease;
        }

        .form-group:hover {
            transform: translateX(4px);
        }

        .form-input {
            width: 100%;
            padding: 20px 24px 20px 60px;
            border: 2px solid rgba(var(--accent-rgb), 0.25);
            border-radius: 20px;
            background: rgba(var(--accent-rgb), 0.08);
            color: var(--text-color);
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-sizing: border-box;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
            background: rgba(var(--accent-rgb), 0.15);
            box-shadow: 
                0 0 0 6px rgba(var(--accent-rgb), 0.12),
                0 8px 25px rgba(var(--accent-rgb), 0.2);
            transform: translateY(-3px) scale(1.02);
        }

        .form-input::placeholder {
            color: var(--secondary-text-color);
            opacity: 0.7;
            font-weight: 400;
        }

        .form-icon {
            position: absolute;
            left: 22px;
            top: 50%;
            transform: translateY(-50%);
            width: 22px;
            height: 22px;
            color: var(--accent-color);
            opacity: 0.7;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .form-group:focus-within .form-icon {
            opacity: 1;
            transform: translateY(-50%) scale(1.15) rotate(5deg);
            color: var(--accent-color);
        }

        .login-button-submit {
            background: linear-gradient(135deg, var(--accent-color) 0%, #2196F3 50%, #9C27B0 100%);
            background-size: 200% 200%;
            border: none;
            border-radius: 20px;
            padding: 20px 32px;
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            margin-top: 12px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            animation: button-glow 3s ease-in-out infinite alternate;
        }

        @keyframes button-glow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .login-button-submit::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .login-button-submit:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 
                0 12px 35px rgba(var(--accent-rgb), 0.5),
                0 0 0 4px rgba(var(--accent-rgb), 0.2);
        }

        .login-button-submit:hover::before {
            left: 100%;
        }

        .login-button-submit:active {
            transform: translateY(-2px) scale(0.98);
        }

        .login-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.12);
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-size: 20px;
            font-weight: bold;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .login-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .login-footer {
            text-align: center;
            margin-top: 32px;
            padding-top: 28px;
            border-top: 1px solid rgba(var(--accent-rgb), 0.25);
            position: relative;
            z-index: 2;
        }

        .login-footer a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            display: inline-block;
            padding: 4px 8px;
            border-radius: 8px;
        }

        .login-footer a:hover {
            color: #66BB6A;
            background: rgba(var(--accent-rgb), 0.1);
            transform: translateY(-1px);
        }

        /* Responsividade Premium */
        @media (max-width: 480px) {
            .login-container {
                margin: 16px;
                padding: 35px 25px;
                max-width: none;
                border-radius: 24px;
            }
            
            .login-title {
                font-size: 2rem;
            }
            
            .form-input {
                padding: 16px 20px 16px 50px;
                font-size: 1rem;
            }
            
            .form-icon {
                width: 20px;
                height: 20px;
                left: 18px;
            }
            
            .login-button-submit {
                padding: 16px 24px;
                font-size: 1.1rem;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* === ANIMATIONS KEYFRAMES === */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Error shake animation for wrong login */
        .login-container.error {
            animation: shake 0.6s ease-in-out;
        }

        /* Success animation */
        .login-container.success {
            animation: bounceIn 0.8s ease-out;
        }

        /* === BOT√ÉO TOGGLE SENHA === */
        .password-toggle {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-text-color);
            opacity: 0.7;
            z-index: 10;
        }

        .password-toggle:hover {
            background: rgba(var(--accent-rgb), 0.15);
            color: var(--accent-color);
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
        }

        .password-toggle:active {
            transform: translateY(-50%) scale(0.95);
        }

        .password-toggle .eye-icon {
            width: 18px;
            height: 18px;
            transition: all 0.3s ease;
        }

        .password-toggle.password-visible .eye-icon {
            color: var(--accent-color);
            opacity: 1;
        }

        /* Linha cortando o olho quando senha est√° oculta */
        .password-toggle:not(.password-visible)::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 2px;
            height: 24px;
            background: currentColor;
            transform: translate(-50%, -50%) rotate(45deg);
            opacity: 0.8;
            pointer-events: none;
        }

        /* === MODAL PREMIUM ULTRA-MODERNO === */
        .premium-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
        }

        .premium-modal.active {
            display: flex;
            opacity: 1;
            visibility: visible;
        }

        .premium-container {
            background: var(--bg-color-dark);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 32px;
            padding: 40px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 
                0 40px 100px rgba(0, 0, 0, 0.5),
                inset 0 2px 0 rgba(255, 215, 0, 0.1),
                0 0 0 1px rgba(255, 215, 0, 0.05);
            transform: scale(0.8) translateY(50px);
            transition: all 0.2s ease;
        }

        .premium-modal.active .premium-container {
            transform: scale(1) translateY(0);
        }

        .premium-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #FFD700, #FFA500, #FF6B35, #8A2BE2);
            background-size: 400% 100%;
            animation: premium-gradient 4s ease-in-out infinite;
        }

        @keyframes premium-gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .premium-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            color: #FFD700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 20px;
            font-weight: bold;
            z-index: 1001;
        }

        .premium-close:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: rotate(90deg) scale(1.1);
        }

        .premium-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .premium-icon {
            font-size: 4rem;
            margin-bottom: 16px;
            filter: drop-shadow(0 4px 12px rgba(255, 215, 0, 0.5));
        }

        .premium-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin: 0 0 12px 0;
            background: linear-gradient(135deg, #FFD700, #FFA500, #FF6B35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .premium-subtitle {
            color: var(--secondary-text-color);
            font-size: 1.1rem;
            margin: 0;
            opacity: 0.9;
        }

        .premium-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 20px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .feature-icon {
            font-size: 1.5rem;
            filter: drop-shadow(0 2px 4px rgba(255, 215, 0, 0.3));
        }

        .premium-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
            min-height: 500px; /* Altura m√≠nima para evitar cortes */
        }

        .plan-option {
            position: relative;
            background: var(--bg-color-dark);
            border: 2px solid var(--border-color);
            border-radius: 24px;
            padding: 30px 25px 25px 25px; /* Padding ajustado para acomodar o badge */
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: visible; /* Mudado para visible para mostrar o badge completo */
            min-height: 450px; /* Altura m√≠nima para garantir espa√ßo suficiente */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .plan-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(255, 215, 0, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .plan-option:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.2);
        }

        .plan-option:hover::before {
            opacity: 1;
        }

        .plan-option.selected {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(255, 215, 0, 0.3);
        }

        .plan-badge {
            position: absolute;
            top: -12px; /* Ajustado para ficar mais vis√≠vel */
            right: 20px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 10; /* Garantir que fique acima de outros elementos */
            box-shadow: 0 2px 8px rgba(0,0,0,0.3); /* Sombra para destacar */
        }

        .plan-option[data-plan="monthly"] .plan-badge {
            background: linear-gradient(135deg, #666, #777);
            color: white;
        }

        .plan-option[data-plan="annual"] .plan-badge {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .plan-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 16px;
        }

        .plan-price {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 4px;
            margin-bottom: 12px;
        }

        .currency {
            font-size: 1.2rem;
            color: #FFD700;
            font-weight: 600;
        }

        .amount {
            font-size: 3rem;
            font-weight: 800;
            color: #FFD700;
        }

        .period {
            font-size: 1rem;
            color: var(--secondary-text-color);
            font-weight: 500;
        }

        .plan-discount {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 16px;
        }

        .plan-description {
            color: var(--secondary-text-color);
            margin-bottom: 20px;
            font-style: italic;
        }

        .plan-features {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }

        .plan-features li {
            padding: 8px 0;
            font-size: 0.95rem;
            color: var(--text-color);
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .plan-features li:last-child {
            border-bottom: none;
        }

        .premium-payment {
            margin-bottom: 40px;
        }

        .payment-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-color-dark);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .payment-method:hover {
            border-color: #FFD700;
            transform: translateY(-2px);
        }

        .payment-method.active {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
        }

        .method-icon {
            font-size: 2rem;
        }

        .method-name {
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 4px;
        }

        .method-desc {
            font-size: 0.85rem;
            color: var(--secondary-text-color);
        }

        .premium-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .btn-cancel,
        .btn-confirm {
            padding: 16px 32px;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-cancel {
            background: transparent;
            color: var(--secondary-text-color);
            border: 2px solid var(--border-color);
        }

        .btn-cancel:hover {
            background: var(--bg-color-medium);
            transform: translateY(-2px);
        }

        .btn-confirm {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .btn-confirm:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(255, 215, 0, 0.6);
        }

        /* === ESTILOS PARA √ÅREAS DE PAGAMENTO === */
        .payment-details {
            background: var(--bg-color-dark);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .payment-details-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 20px;
            text-align: center;
            padding-bottom: 12px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
        }

        /* PIX Styles */
        .pix-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .pix-info {
            text-align: center;
        }

        .pix-label {
            display: block;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .pix-key-container {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }

        .pix-key-input {
            flex: 1;
            min-width: 250px;
            padding: 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-color-medium);
            color: var(--text-color);
            font-size: 1rem;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
        }

        .copy-pix-btn {
            padding: 16px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .copy-pix-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .pix-instructions {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: left;
        }

        .pix-instructions p {
            margin: 8px 0;
            color: var(--text-color);
            line-height: 1.5;
        }

        .pix-instructions p:first-child {
            font-weight: 700;
            color: #4CAF50;
            margin-bottom: 12px;
        }

        /* Card Form Styles */
        .card-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .card-fields {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .card-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .card-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .card-label {
            font-weight: 600;
            color: var(--text-color);
            font-size: 0.95rem;
        }

        .card-input {
            padding: 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            background: var(--bg-color-dark);
            color: var(--text-color);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .card-input:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.2);
        }

        .card-input::placeholder {
            color: var(--secondary-text-color);
        }

        .payment-info {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            font-size: 0.9rem;
            color: var(--text-color);
        }

        .info-icon {
            font-size: 1.2rem;
        }

        /* Responsividade Premium */
        @media (max-width: 768px) {
            .premium-container {
                padding: 20px;
                margin: 10px;
                max-height: 95vh;
                overflow-y: auto;
                border-radius: 16px;
            }
            
            .premium-title {
                font-size: 1.8rem;
            }
            
            .premium-plans {
                grid-template-columns: 1fr;
                gap: 15px;
                min-height: auto;
            }
            
            .plan-option {
                min-height: 350px;
                padding: 20px 15px 15px 15px;
            }
            
            .payment-methods {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .premium-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn-confirm, .btn-cancel {
                width: 100%;
                padding: 15px;
                font-size: 1rem;
            }
        }

        /* iPhone e Mobile Espec√≠fico */
        @media (max-width: 480px) {
            .premium-modal {
                padding: 0;
                align-items: flex-start;
            }
            
            .premium-container {
                margin: 0;
                padding: 15px;
                min-height: 100vh;
                max-height: 100vh;
                border-radius: 0;
                width: 100%;
            }
            
            .premium-title {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .premium-subtitle {
                font-size: 0.9rem;
                margin-bottom: 20px;
            }
            
            .premium-features {
                margin-bottom: 20px;
            }
            
            .feature-item {
                font-size: 0.85rem;
                padding: 8px 0;
            }
            
            .plan-option {
                min-height: 300px;
                padding: 15px 12px 12px 12px;
            }
            
            .plan-name {
                font-size: 1.2rem;
            }
            
            .amount {
                font-size: 2.5rem;
            }
            
            .plan-features li {
                font-size: 0.85rem;
                padding: 6px 0;
            }
            
            .payment-method {
                padding: 12px;
            }
            
            .card-form {
                padding: 15px;
            }
            
            .card-input {
                padding: 12px;
                font-size: 16px; /* Evita zoom no iOS */
            }
            
            .pix-key-input {
                font-size: 14px;
                padding: 12px;
            }
            
            .copy-pix-btn {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }

        /* iPhone X e modelos similares */
        @media (max-width: 414px) and (min-height: 812px) {
            .premium-container {
                padding-top: env(safe-area-inset-top, 20px);
                padding-bottom: env(safe-area-inset-bottom, 20px);
            }
        }

        /* iPhone SE e telas pequenas */
        @media (max-width: 375px) {
            .premium-container {
                padding: 10px;
            }
            
            .premium-title {
                font-size: 1.3rem;
            }
            
            .plan-option {
                min-height: 280px;
                padding: 12px 10px 10px 10px;
            }
            
            .amount {
                font-size: 2rem;
            }
            
            .card-input {
                padding: 10px;
                font-size: 16px;
            }
        }

        /* === VISUAL PREMIUM PARA EMPRESAS === */
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
            letter-spacing: 0.3px;
        }

        /* Header empresarial */
        header {
            background: linear-gradient(135deg, var(--bg-color-dark) 0%, var(--bg-color-medium) 100%) !important;
            border-bottom: 1px solid rgba(var(--accent-rgb), 0.1);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        /* Tipografia premium */
        .premium-title, .login-title, h1, h2, h3 {
            font-family: 'Inter', sans-serif !important;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        /* Cart√µes e containers com visual corporativo */
        .table-responsive,
        .grafico-meio,
        #graficoValores-container,
        #resultadoFinal,
        #registroOperacoes,
        .historico-coluna {
            background: var(--bg-color-dark) !important;
            border: 1px solid rgba(var(--accent-rgb), 0.08) !important;
            box-shadow: 
                0 4px 16px rgba(0,0,0,0.08),
                0 1px 4px rgba(0,0,0,0.04) !important;
        }

        /* Bot√µes com visual corporativo */
        .month-navigation button,
        .stock-actions button,
        #btnLimparHistorico {
            font-family: 'Inter', sans-serif !important;
            font-weight: 600 !important;
            letter-spacing: 0.3px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }

        /* Inputs premium */
        table.estoque-table input,
        #nomeEstoqueInput {
            font-family: 'Inter', sans-serif !important;
            font-weight: 500;
            letter-spacing: 0.2px;
        }

        /* Tabela com visual empresarial */
        table.estoque-table th {
            font-family: 'Inter', sans-serif !important;
            font-weight: 700 !important;
            font-size: 0.85rem !important;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-color) !important;
        }



        /* Efeitos premium nos gr√°ficos */
        .graficos-top {
            gap: 24px;
        }

        .grafico-meio h3,
        #graficoValores-container h3 {
            font-family: 'Inter', sans-serif !important;
            font-weight: 700;
            color: var(--accent-color) !important;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

    </style>
</head>
<body>
    <!-- Barra Superior -->
    <div class="top-bar-app">
        <!-- Layout Distribu√≠do: Login - Alerta - Idioma - Tema - Share - Premium -->
        <button id="btnLogin" title="Fazer Login" class="login-button" data-translate="login">
            üîë Login
        </button>
        
        <button id="btnNotify" title="Notifica√ß√µes" data-translate-title="notifications">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"/>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            <span id="notifyBadge" style="display:none;position:absolute;top:2px;right:2px;background:#f00;color:#fff;font-size:0.7em;border-radius:50%;width:16px;height:16px;align-items:center;justify-content:center;">0</span>
        </button>
        
        <button id="btnLanguage" title="Selecionar Idioma" class="language-button" data-translate-title="selectLanguage" style="font-size:20px;padding:6px;background:transparent;border:none;cursor:pointer;border-radius:8px;transition:all 0.3s ease;display:inline-flex;align-items:center;vertical-align:middle;">
            <span class="globe-container" style="display:inline-flex;align-items:center;justify-content:center;width:23px;height:23px;border-radius:50%;overflow:hidden;background:linear-gradient(135deg,#2196F3 0%,#00BCD4 100%);box-shadow:0 2px 8px #2196f322;vertical-align:middle;">
                <video id="globeVideo" src="Mapamundi.mp4" autoplay loop muted playsinline style="width:23px;height:23px;aspect-ratio:1/1;object-fit:cover;border-radius:50%;display:block;vertical-align:middle;"></video>
            </span>
        </button>
        
        <button id="themeToggleTop" title="Alternar tema" data-translate-title="toggleTheme">üåô</button>
        
        <button id="btnShare" title="Compartilhar estoque" data-translate-title="shareStock">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3"/>
                <circle cx="6" cy="12" r="3"/>
                <circle cx="18" cy="19" r="3"/>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
            </svg>
        </button>
        <!-- Share Menu Moderno -->
        <div id="shareMenu" style="display:none;position:absolute;min-width:60px;background:var(--bg-color-dark);border:2px solid var(--border-color);border-radius:12px;padding:12px 10px;z-index:200;box-shadow:0 8px 24px rgba(0,0,0,0.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);">
            <div style="display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:center;">
                <button class="share-option" onclick="window.open('https://wa.me/?text='+encodeURIComponent(document.title+' '+window.location.href),'_blank')" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;background:none;border:none;">
                    <img src="icones/whatsapp.gif" alt="WhatsApp" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;">
                </button>
                <button class="share-option" onclick="window.open('mailto:?subject='+encodeURIComponent(document.title)+'&body='+encodeURIComponent(window.location.href),'_blank')" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;background:none;border:none;">
                    <img src="icones/email.png" alt="Email" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;">
                </button>
                <button class="share-option" onclick="window.print()" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;background:none;border:none;">
                    <img src="icones/pdf.png" alt="PDF" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;">
                </button>
            </div>
        </div>
        
        <button id="btnPremium" title="Ativar Premium" onclick="showPaymentModal()" class="premium-button" data-translate="premium">
            üëë Premium
        </button>
    </div>

    <script>
    // --- Menu Compartilhamento ---
    // Garante que o bot√£o de login abre o modal corretamente
    function openLoginModal() {
      var modal = document.getElementById('loginModal');
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }
    function closeLoginModal() {
      var modal = document.getElementById('loginModal');
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    }
    document.addEventListener('DOMContentLoaded', function() {
      var btnLogin = document.getElementById('btnLogin');
      if (btnLogin) {
        btnLogin.addEventListener('click', function(e) {
          e.preventDefault();
          openLoginModal();
        });
      }
      // Fecha modal ao clicar fora da √°rea do login
      var loginModal = document.getElementById('loginModal');
      if (loginModal) {
        loginModal.addEventListener('click', function(e) {
          if (e.target === loginModal) closeLoginModal();
        });
      }
    });
    function positionShareMenu() {
        const btn = document.getElementById('btnShare');
        const menu = document.getElementById('shareMenu');
        if (!btn || !menu) return;
        const rect = btn.getBoundingClientRect();
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
        menu.style.top = (rect.bottom + scrollTop + 8) + 'px';
        menu.style.left = (rect.left + scrollLeft) + 'px';
        menu.style.right = '';
    }
    document.getElementById('btnShare').addEventListener('click', function(e) {
        e.stopPropagation();
        const menu = document.getElementById('shareMenu');
        if (menu.style.display === 'block') {
            menu.style.display = 'none';
        } else {
            positionShareMenu();
            menu.style.display = 'block';
        }
        // Fecha o menu de idiomas se aberto
        document.getElementById('languageMenu').style.display = 'none';
    });
    window.addEventListener('resize', function() {
        const menu = document.getElementById('shareMenu');
        if (menu.style.display === 'block') {
            positionShareMenu();
        }
    });
    window.addEventListener('scroll', function() {
        const menu = document.getElementById('shareMenu');
        if (menu.style.display === 'block') {
            positionShareMenu();
        }
    });

    // --- Menu Idiomas ---
    function positionLanguageMenu() {
        const btn = document.getElementById('btnLanguage');
        const menu = document.getElementById('languageMenu');
        if (!btn || !menu) return;
        const rect = btn.getBoundingClientRect();
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
        menu.style.top = (rect.bottom + scrollTop + 8) + 'px';
        menu.style.left = (rect.left + scrollLeft) + 'px';
        menu.style.right = '';
    }
    document.getElementById('btnLanguage').addEventListener('click', function(e) {
        e.stopPropagation();
        const menu = document.getElementById('languageMenu');
        if (menu.style.display === 'block') {
            menu.style.display = 'none';
        } else {
            positionLanguageMenu();
            menu.style.display = 'block';
        }
        // Fecha o menu de compartilhamento se aberto
        document.getElementById('shareMenu').style.display = 'none';
    });
    // N√£o fechar ao clicar dentro do menu de idiomas
    document.getElementById('languageMenu').addEventListener('click', function(e) {
        e.stopPropagation();
    });
    // N√£o fechar ao clicar dentro do menu de compartilhamento
    document.getElementById('shareMenu').addEventListener('click', function(e) {
        e.stopPropagation();
    });
    // Fecha ambos menus ao clicar fora
    document.addEventListener('click', function() {
        document.getElementById('languageMenu').style.display = 'none';
        document.getElementById('shareMenu').style.display = 'none';
    });
    </script>
    <style>
    /* Responsividade para o menu de compartilhamento */
    @media (max-width: 600px) {
      #shareMenu {
        left: 50% !important;
        transform: translateX(-50%) !important;
        min-width: 180px !important;
        max-width: 90vw !important;
      }
    }

    /* Bot√µes do topo sempre escuros, sem caixa (sem fundo, sem borda, sem sombra) */
    .top-bar-app button,
    .top-bar-app .login-button,
    .top-bar-app .premium-button,
    .top-bar-app #btnNotify,
    .top-bar-app #btnLanguage,
    .top-bar-app #themeToggleTop,
    .top-bar-app #btnShare {
      background: none !important;
      border: none !important;
      box-shadow: none !important;
      color: #181c22 !important;
      filter: none !important;
      outline: none !important;
      transition: color 0.2s;
    }
    .top-bar-app button svg,
    .top-bar-app button span,
    .top-bar-app button video {
      color: #181c22 !important;
      stroke: #181c22 !important;
      filter: none !important;
    }
    /* N√£o aplicar cor escura nem filtro nas imagens das bandeiras do menu de idiomas */
    #languageMenu img {
      color: unset !important;
      filter: unset !important;
      box-shadow: 0 1px 4px #0002 !important;
      border-radius: 8px !important;
      background: none !important;
      border: none !important;
      object-fit: cover !important;
      display: block !important;
      width: 36px !important;
      height: 36px !important;
      opacity: 1 !important;
      z-index: 9999 !important;
    }
    #languageMenu {
      z-index: 9999 !important;
    }
    .top-bar-app .globe-container {
      background: none !important;
      border: none !important;
      outline: none !important;
      box-shadow: none !important;
      width: 23px !important;
      height: 23px !important;
      border-radius: 50% !important;
      overflow: hidden !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    .top-bar-app .globe-container video {
      background: none !important;
      border: none !important;
      outline: none !important;
      box-shadow: none !important;
      width: 23px !important;
      height: 23px !important;
      aspect-ratio: 1/1 !important;
      object-fit: cover !important;
      border-radius: 50% !important;
      display: block !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    </style>

    <!-- Menu de Sele√ß√£o de Idiomas -->
    <div id="languageMenu" style="display:none;position:absolute;min-width:60px;background:var(--bg-color-dark,#232a36);border:2px solid var(--border-color,#232a36);border-radius:12px;padding:14px 10px;z-index:300;box-shadow:0 8px 24px rgba(0,0,0,0.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);">
        <div style="display:flex;flex-direction:column;gap:18px;align-items:center;justify-content:center;">
            <button class="language-option" data-lang="pt" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:none;padding:0;" title="Portugu√™s" aria-label="Portugu√™s">
                <img src="icones/brasil.png" alt="Bandeira do Brasil" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;object-fit:cover;display:block;background:none;border:none;" onerror="this.style.opacity='0.3';this.alt='Bandeira n√£o encontrada';" />
            </button>
            <button class="language-option" data-lang="en" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:none;padding:0;" title="English" aria-label="English">
                <img src="icones/eua.png" alt="Bandeira dos EUA" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;object-fit:cover;display:block;background:none;border:none;" onerror="this.style.opacity='0.3';this.alt='Bandeira n√£o encontrada';" />
            </button>
            <button class="language-option" data-lang="fr" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:none;padding:0;" title="Fran√ßais" aria-label="Fran√ßais">
                <img src="icones/fran√ßa.png" alt="Bandeira da Fran√ßa" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;object-fit:cover;display:block;background:none;border:none;" onerror="this.style.opacity='0.3';this.alt='Bandeira n√£o encontrada';" />
            </button>
            <button class="language-option" data-lang="it" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:none;padding:0;" title="Italiano" aria-label="Italiano">
                <img src="icones/italia.png" alt="Bandeira da It√°lia" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;object-fit:cover;display:block;background:none;border:none;" onerror="this.style.opacity='0.3';this.alt='Bandeira n√£o encontrada';" />
            </button>
            <button class="language-option" data-lang="es" style="all:unset;cursor:pointer;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:none;padding:0;" title="Espa√±ol" aria-label="Espa√±ol">
                <img src="icones/espanha.png" alt="Bandeira da Espanha" style="width:36px;height:36px;border-radius:8px;box-shadow:0 1px 4px #0002;object-fit:cover;display:block;background:none;border:none;" onerror="this.style.opacity='0.3';this.alt='Bandeira n√£o encontrada';" />
            </button>
        </div>
    </div>

    <!-- Modal de Login Ultra Moderno -->
    <div id="loginModal" class="login-modal">
        <div class="login-container">
            <button class="login-close" onclick="closeLoginModal()">‚úï</button>
            
            <div class="login-header">
                <h2 class="login-title" data-translate="welcomeBack">Bem-vindo</h2>
                <p class="login-subtitle" data-translate="loginSubtitle">Entre com suas credenciais para acessar o sistema</p>
            </div>
            
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <svg class="form-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <input type="text" id="loginUsername" class="form-input" placeholder="Usu√°rio ou Email" data-translate-placeholder="userOrEmail" required>
                </div>
                
                <div class="form-group">
                    <svg class="form-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <circle cx="12" cy="16" r="1"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                    <input type="password" id="loginPassword" class="form-input" placeholder="Senha" data-translate-placeholder="password" required>
                    <button type="button" class="password-toggle" onclick="togglePasswordVisibility('loginPassword', this)" title="Mostrar/Ocultar senha">
                        <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </button>
                </div>
                
                <button type="submit" class="login-button-submit" data-translate="signIn">
                    Entrar
                </button>
            </form>
            
            <div class="login-footer">
                <p><a href="#" onclick="showRegister()" data-translate="needAccount">Precisa de uma conta? Registre-se</a></p>
                <p><a href="#" onclick="showForgotPassword()" data-translate="forgotPassword">Esqueceu a senha?</a></p>
            </div>
        </div>
    </div>

    <!-- Video Banner -->
    <div class="video-banner-topo">
        <div class="video-banner-move">
            <video
                autoplay
                muted
                loop
                playsinline
                webkit-playsinline
                poster="Dcodelogo.png"
                preload="auto"
                style="max-width:100%;height:auto;display:block;"
                onerror="this.style.display='none'"
            >
                <source src="Dcodeanimation.mp4" type="video/mp4" />
                <p>Seu navegador n√£o suporta v√≠deos HTML5.</p>
            </video>
        </div>
    </div>

    <!-- Header with Navigation -->
    <header>
        <div class="month-navigation" style="gap:20px;">
            <button id="btnMesAnterior" data-translate="previousMonth" style="padding:8px 12px;font-size:13px;">M√™s Anterior</button>
            <div id="mesAtual" style="padding:8px 16px;font-size:14px;min-width:140px;">Janeiro de 2025</div>
            <button id="btnProximoMes" data-translate="nextMonth" style="padding:8px 12px;font-size:13px;">Pr√≥ximo M√™s</button>
        </div>
        
        <div class="stock-actions">
            <button id="btnVoltarEstoque" class="nav-button" title="Estoque Anterior" data-translate-title="backStock">-</button>
        
            <div class="nome-estoque-container">
                <input type="text" id="nomeEstoqueInput" placeholder="Nome do Estoque" data-translate-placeholder="stockName" maxlength="50">
            </div>
            
            <button id="btnNovoEstoque" class="nav-button" title="Pr√≥ximo Estoque" data-translate-title="newStock">+</button>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="table-responsive">
            <table class="estoque-table">
                <colgroup>
                    <col style="width:25%">
                    <col style="width:25%">
                    <col style="width:25%">
                    <col style="width:25%">
                </colgroup>
                <thead>
                    <tr>
                        <th data-translate="item">Item</th>
                        <th data-translate="entry">Entrada</th>
                        <th data-translate="exit">Sa√≠da</th>
                        <th data-translate="unitValue">Valor (R$)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Linhas ser√£o adicionadas dinamicamente -->
                </tbody>
            </table>
        </div>

        <!-- Gr√°ficos REORGANIZADOS - Logo ap√≥s a tabela -->
        <div class="graficos-top">
            <div class="grafico-meio">
                <h3 data-translate="entryChart">Entradas por Item</h3>
                <canvas id="graficoPizza"></canvas>
            </div>
            <div class="grafico-meio">
                <h3 data-translate="exitChart">Sa√≠das</h3>
                <canvas id="graficoSaidas"></canvas>
            </div>
        </div>

        <div id="graficoValores-container">
            <h3 data-translate="valueChart">Valores</h3>
            <canvas id="graficoBarras"></canvas>
        </div>
    </main>

    <!-- Resumo de Itens -->
    <section id="resumoItens">
        <div class="resumo-header">
            <h3 data-translate="itemSummary">üì¶ Resumo dos Itens</h3>
        </div>
        <ul id="listaResumoItens" class="resumo-lista">
            <li class="resumo-vazio" data-translate="noItemsYet">Nenhum item inserido ainda</li>
        </ul>
        <style>
        /* Ajuste responsivo: itens do resumo em coluna, um abaixo do outro */
        #listaResumoItens.resumo-lista {
            display: flex;
            flex-direction: column;
            gap: 6px;
            padding: 0;
            margin: 0;
            list-style: none;
        }
        #listaResumoItens.resumo-lista li {
            display: flex;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
            padding: 8px 12px;
            border-radius: 6px;
            background: var(--bg-color-light, #f8f9fa);
            margin: 0;
            box-shadow: 0 1px 4px #0001;
            font-size: 1em;
            word-break: break-word;
        }
        #listaResumoItens.resumo-lista li:not(.resumo-vazio):hover {
            background: #e3e7ef;
        }
        @media (max-width: 600px) {
          #listaResumoItens.resumo-lista {
            gap: 4px;
          }
          #listaResumoItens.resumo-lista li {
            font-size: 0.98em;
            padding: 10px 6px;
            border-radius: 5px;
          }
        }

        /* Bot√µes Login e Premium mais vis√≠veis no modo escuro */
        .top-bar-app .login-button,
        .top-bar-app .premium-button {
            color: #fff !important;
            background: linear-gradient(90deg, #2196F3 0%, #00BCD4 100%) !important;
            border-radius: 8px !important;
            font-weight: bold !important;
            box-shadow: 0 2px 8px #2196f355 !important;
            border: none !important;
            padding: 7px 18px !important;
            margin: 0 6px !important;
            transition: background 0.2s, color 0.2s;
        }
        .top-bar-app .login-button:hover,
        .top-bar-app .premium-button:hover {
            background: linear-gradient(90deg, #1976D2 0%, #0097A7 100%) !important;
            color: #fff !important;
        }

        /* Garantir que as bandeiras do menu de idiomas fiquem vis√≠veis quando o menu estiver aberto */
        #languageMenu {
          z-index: 9999 !important;
        }
        #languageMenu img {
          display: block !important;
          width: 36px !important;
          height: 36px !important;
          opacity: 1 !important;
          background: none !important;
          border: none !important;
          filter: none !important;
        }
        </style>
    </section>

    <!-- Resultados Finais -->
    <section id="resultadoFinal">
        <p><strong data-translate="totalEntries">Total de Entradas:</strong> <span id="entradaTotal">0</span></p>
        <p><strong data-translate="totalExits">Total de Sa√≠das:</strong> <span id="saidaTotal">0</span></p>
        <p><strong data-translate="finalBalance">Saldo Final:</strong> <span id="saldoTotal">0</span></p>
        <p><strong data-translate="totalValue">Valor Total:</strong> R$ <span id="valorFinal">0.00</span></p>
    </section>

    <!-- Hist√≥rico de Opera√ß√µes -->
    <section id="registroOperacoes">
        <div class="historico-header">
            <h3 data-translate="operationsHistory">üìã Hist√≥rico de Opera√ß√µes</h3>
            <button id="btnLimparHistorico" data-translate="clearHistory">Limpar Hist√≥rico</button>
        </div>
        
        <div class="historico-duplo">
            <div class="historico-coluna">
                <h4 data-translate="entriesLabel">üìà Entradas</h4>
                <ul id="listaEntradas">
                    <!-- Entradas ser√£o adicionadas dinamicamente -->
                </ul>
            </div>
            <div class="historico-coluna">
                <h4 data-translate="exitsLabel">üìâ Sa√≠das</h4>
                <ul id="listaSaidas">
                    <!-- Sa√≠das ser√£o adicionadas dinamicamente -->
                </ul>
            </div>
        </div>
    </section>

    <!-- Modais -->
    
    <!-- Modal de Planos Premium Ultra-Moderno -->
    <div id="modalPagamento" class="premium-modal">
        <div class="premium-container">
            <button id="fecharModalPagamento" class="premium-close">‚úï</button>
            
            <div class="premium-header">
                <div class="premium-icon">üëë</div>
                <h2 class="premium-title" data-translate="premiumSubscription">Planos Premium</h2>
                <p class="premium-subtitle">Desbloqueie todo o potencial do DcodeStock para sua empresa</p>
            </div>
            
            <div class="premium-features">
                <div class="feature-item">
                    <span class="feature-icon">üìä</span>
                    <span data-translate="advancedReports">Relat√≥rios Avan√ßados</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">‚òÅÔ∏è</span>
                    <span data-translate="cloudBackup">Backup na Nuvem</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üë•</span>
                    <span data-translate="multipleUsers">M√∫ltiplos Usu√°rios</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üì±</span>
                    <span data-translate="prioritySupport">Suporte Priorit√°rio</span>
                </div>
            </div>
            
            <div class="premium-plans">
                <div class="plan-option" data-plan="monthly">
                    <div class="plan-badge" data-translate="basicPlan">B√°sico</div>
                    <div class="plan-name" data-translate="monthly">Mensal</div>
                    <div class="plan-price">
                        <span class="currency">R$</span>
                        <span class="amount">29</span>
                        <span class="period" data-translate="perMonth">/m√™s</span>
                    </div>
                    <div class="plan-description" data-translate="smallBusinessIdeal">Ideal para pequenas empresas</div>
                    <ul class="plan-features">
                        <li data-translate="upToFiveStocks">‚úÖ At√© 5 estoques</li>
                        <li data-translate="basicReports">‚úÖ Relat√≥rios b√°sicos</li>
                        <li data-translate="emailSupport">‚úÖ Suporte por email</li>
                    </ul>
                </div>
                
                <div class="plan-option selected" data-plan="annual">
                    <div class="plan-badge" data-translate="mostPopular">Mais Popular</div>
                    <div class="plan-name" data-translate="annual">Anual</div>
                    <div class="plan-price">
                        <span class="currency">R$</span>
                        <span class="amount">299</span>
                        <span class="period" data-translate="perYear">/ano</span>
                    </div>
                    <div class="plan-discount" data-translate="saveFifteenPercent">Economize 15%</div>
                    <div class="plan-description" data-translate="bestForGrowingBusiness">Melhor para empresas em crescimento</div>
                    <ul class="plan-features">
                        <li data-translate="unlimitedStocks">‚úÖ Estoques ilimitados</li>
                        <li data-translate="advancedReportsFeature">‚úÖ Relat√≥rios avan√ßados</li>
                        <li data-translate="automaticBackup">‚úÖ Backup autom√°tico</li>
                        <li data-translate="prioritySupportFeature">‚úÖ Suporte priorit√°rio</li>
                        <li data-translate="multipleUsersFeature">‚úÖ M√∫ltiplos usu√°rios</li>
                    </ul>
                </div>
            </div>
            
            <div class="premium-payment">
                <h3 class="payment-title" data-translate="paymentMethod">M√©todo de Pagamento</h3>
                <div class="payment-methods">
                    <button class="payment-method" data-method="pix">
                        <div class="method-icon">üè¶</div>
                        <div class="method-info">
                            <div class="method-name" data-translate="pix">PIX</div>
                            <div class="method-desc">Aprova√ß√£o instant√¢nea</div>
                        </div>
                        <div class="method-toggle">‚ñº</div>
                    </button>
                    
                    <button class="payment-method" data-method="debit">
                        <div class="method-icon">üí∏</div>
                        <div class="method-info">
                            <div class="method-name" data-translate="debit">Cart√£o de D√©bito</div>
                            <div class="method-desc">D√©bito √† vista</div>
                        </div>
                        <div class="method-toggle">‚ñº</div>
                    </button>
                    
                    <button class="payment-method" data-method="credit">
                        <div class="method-icon">üí≥</div>
                        <div class="method-info">
                            <div class="method-name" data-translate="credit">Cart√£o de Cr√©dito</div>
                            <div class="method-desc">Parcelamento dispon√≠vel</div>
                        </div>
                        <div class="method-toggle">‚ñº</div>
                    </button>
                </div>
            </div>

            <!-- √Årea PIX (sempre vis√≠vel com chave fixa) -->
            <div id="pixArea" class="payment-details" style="display:block;">
                <h4 class="payment-details-title">üí∞ Pagamento PIX - Instant√¢neo</h4>
                <div class="pix-content">
                    <div class="pix-info">
                        <span class="pix-label">üîê Chave PIX</span>
                        <div class="pix-key-container">
                            <input type="text" id="pixKey" value="7068f01a-eb21-4114-9f09-d9f5e1b0b51a" readonly class="pix-key-input" title="Clique para selecionar" style="width:100%;font-size:1.2em;font-weight:bold;color:#219653;background:#eaffea;border:2px solid #4CAF50;border-radius:8px;padding:10px 12px;text-align:center;letter-spacing:1px;box-shadow:0 2px 8px #0001;">
                            <button id="copyPixBtn" class="copy-pix-btn" title="Copiar chave PIX">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                                Copiar
                            </button>
                        </div>
                    </div>
                    <div class="pix-instructions">
                        <p><strong>üí° Como pagar com PIX:</strong></p>
                        <p>Copie a chave acima e fa√ßa o pagamento em seu app banc√°rio.</p>
                        <p>Ap√≥s o pagamento, a libera√ß√£o √© autom√°tica em segundos!</p>
                    </div>
                </div>
            </div>

            <!-- √Årea D√©bito (expans√≠vel) -->
            <div id="debitArea" class="payment-details" style="display:none;">
                <h4 class="payment-details-title">üí∏ Cart√£o de D√©bito</h4>
                <div class="card-form">
                    <div class="card-fields">
                        <div class="card-group">
                            <label class="card-label">N√∫mero do Cart√£o</label>
                            <input type="text" id="debitCardNumber" placeholder="1234 5678 9012 3456" maxlength="19" class="card-input">
                        </div>
                        <div class="card-row">
                            <div class="card-group">
                                <label class="card-label">Validade</label>
                                <input type="text" id="debitCardExpiry" placeholder="MM/AA" maxlength="5" class="card-input">
                            </div>
                            <div class="card-group">
                                <label class="card-label">CVV</label>
                                <input type="text" id="debitCardCvv" placeholder="123" maxlength="4" class="card-input">
                            </div>
                        </div>
                        <div class="card-group">
                            <label class="card-label">Nome no Cart√£o</label>
                            <input type="text" id="debitCardName" placeholder="Nome completo" class="card-input">
                        </div>
                        <div class="payment-info">
                            <span class="info-icon">‚ÑπÔ∏è</span>
                            <span>D√©bito: Pagamento √† vista, aprova√ß√£o instant√¢nea</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- √Årea Cr√©dito (expans√≠vel) -->
            <div id="creditArea" class="payment-details" style="display:none;">
                <h4 class="payment-details-title">üí≥ Cart√£o de Cr√©dito</h4>
                <div class="card-form">
                    <div class="card-fields">
                        <div class="card-group">
                            <label class="card-label">N√∫mero do Cart√£o</label>
                            <input type="text" id="creditCardNumber" placeholder="1234 5678 9012 3456" maxlength="19" class="card-input">
                        </div>
                        <div class="card-row">
                            <div class="card-group">
                                <label class="card-label">Validade</label>
                                <input type="text" id="creditCardExpiry" placeholder="MM/AA" maxlength="5" class="card-input">
                            </div>
                            <div class="card-group">
                                <label class="card-label">CVV</label>
                                <input type="text" id="creditCardCvv" placeholder="123" maxlength="4" class="card-input">
                            </div>
                        </div>
                        <div class="card-group">
                            <label class="card-label">Nome no Cart√£o</label>
                            <input type="text" id="creditCardName" placeholder="Nome completo" class="card-input">
                        </div>
                        <div class="card-group">
                            <label class="card-label">Parcelas</label>
                            <select id="creditInstallments" class="card-input">
                                <option value="1">1x R$ 29,00 (√† vista)</option>
                                <option value="2">2x R$ 15,00</option>
                                <option value="3">3x R$ 10,33</option>
                                <option value="6">6x R$ 5,42</option>
                                <option value="12">12x R$ 2,92</option>
                            </select>
                        </div>
                        <div class="payment-info">
                            <span class="info-icon">‚ÑπÔ∏è</span>
                            <span>Cr√©dito: Parcelamento dispon√≠vel, processamento em at√© 2 dias √∫teis</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="premium-actions">
                
                <button id="cancelarPagamento" class="btn-cancel" data-translate="cancel">Cancelar</button>
                <button id="confirmarPagamento" class="btn-confirm" data-translate="confirm">
                    <span class="btn-text">Assinar Agora</span>
                    <span class="btn-icon">üöÄ</span>
                </button>
            </div>
        </div>
    </div>




    <!-- Scripts -->
    <!-- ...existing code... -->
    <script>
        // === FUNCIONALIDADE DO MENU DE IDIOMAS ===
        let currentLanguage = 'pt';
        
        // Mapping de idiomas com tradu√ß√µes completas
        const languages = {
            'pt': { 
                flag: 'üáßüá∑', 
                name: 'PT', 
                fullName: 'Portugu√™s',
                translations: {
                    // Bot√µes do topo
                    'login': 'Login',
                    'premium': 'Premium',
                    'shareStock': 'Compartilhar estoque',
                    'selectLanguage': 'Selecionar Idioma',
                    'toggleTheme': 'Alternar tema',
                    'notifications': 'Notifica√ß√µes',
                    
                    // Navega√ß√£o
                    'previousMonth': 'M√™s Anterior',
                    'nextMonth': 'Pr√≥ximo M√™s',
                    'newStock': 'Novo Estoque',
                    'backStock': 'Voltar Estoque',
                    
                    // Tabela
                    'cardNumber': 'N√∫mero do Cart√£o',
                    'expiryDate': 'Validade',
                    'cvv': 'CVV',
                    'cardName': 'Nome no Cart√£o',
                    'installments': 'Parcelas',
                    
                    // PIX
                    'pixPayment': 'Pagamento PIX',
                    'pixKey': 'Chave PIX',
                    'copyPix': 'Copiar',
                    'pixInstructions': 'Copie a chave PIX acima e fa√ßa o pagamento em seu banco. Todos os pagamentos devem ser feitos nesta chave.',
                    
                    // Premium Features
                    'advancedReports': 'Relat√≥rios Avan√ßados',
                    'cloudBackup': 'Backup na Nuvem',
                    'multipleUsers': 'M√∫ltiplos Usu√°rios',
                    'prioritySupport': 'Suporte Priorit√°rio',
                    'basicPlan': 'B√°sico',
                    'mostPopular': 'Mais Popular',
                    'smallBusinessIdeal': 'Ideal para pequenas empresas',
                    'bestForGrowingBusiness': 'Melhor para empresas em crescimento',
                    'saveFifteenPercent': 'Economize 15%',
                    'upToFiveStocks': '‚úÖ At√© 5 estoques',
                    'basicReports': '‚úÖ Relat√≥rios b√°sicos',
                    'emailSupport': '‚úÖ Suporte por email',
                    'unlimitedStocks': '‚úÖ Estoques ilimitados',
                    'advancedReportsFeature': '‚úÖ Relat√≥rios avan√ßados',
                    'automaticBackup': '‚úÖ Backup autom√°tico',
                    'prioritySupportFeature': '‚úÖ Suporte priorit√°rio',
                    'multipleUsersFeature': '‚úÖ M√∫ltiplos usu√°rios',
                    
                    // Menu Compartilhar
                    'whatsapp': 'WhatsApp',
                    'email': 'Email',
                    'pdf': 'PDF',
                    
                    // Placeholders
                    'stockName': 'Nome do Estoque',
                    'stockDefault': 'Estoque', // Para "Estoque 1", "Estoque 2", etc.
                    'itemPlaceholder': 'Nome do item...',
                    'entryPlaceholder': 'Qtd entrada...',
                    'exitPlaceholder': 'Qtd sa√≠da...',
                    'valuePlaceholder': 'Valor...',
                    
                    // Login Modal
                    'welcomeBack': 'Bem-vindo',
                    'loginSubtitle': 'Entre com suas credenciais para acessar o sistema',
                    'userOrEmail': 'Usu√°rio ou Email',
                    'password': 'Senha',
                    'signIn': 'Entrar',
                    'needAccount': 'Precisa de uma conta? Registre-se',
                    'forgotPassword': 'Esqueceu a senha?',
                    
                    // Meses
                    'months': ['Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                    
                    // Additional translations
                    'addItem': 'Adicionar Item',
                    'removeItem': 'Remover Item',
                    'clearAll': 'Limpar Tudo',
                    'save': 'Salvar',
                    'export': 'Exportar',
                    'import': 'Importar',
                    'settings': 'Configura√ß√µes',
                    'about': 'Sobre',
                    'help': 'Ajuda',
                    'close': 'Fechar',
                    'ok': 'OK',
                    'yes': 'Sim',
                    'no': 'N√£o',
                    'loading': 'Carregando...',
                    'success': 'Sucesso!',
                    'error': 'Erro!',
                    'warning': 'Aviso!',
                    'info': 'Informa√ß√£o',
                    
                    // Card placeholders
                    'cardNumberPlaceholder': '1234 5678 9012 3456',
                    'cardExpiryPlaceholder': 'MM/AA',
                    'cardCvvPlaceholder': '123',
                    'cardNamePlaceholder': 'Nome completo'
                }
            },
            // ...apenas UMA defini√ß√£o para cada idioma, j√° presente acima...
        };
                    // Navigation
                    'previousMonth': 'Previous Month',
                    'nextMonth': 'Next Month',
                    'newStock': 'New Stock',
                    'backStock': 'Previous Stock',
                    
                    // Table
                    'item': 'Item',
                    'entry': 'Entry',
                    'exit': 'Exit',
                    'unitValue': 'Value ($)',
                    
                    // Charts
                    'entryChart': 'Entries by Item',
                    'valueChart': 'Values',
                    'exitChart': 'Exits',
                    
                    // Summary
                    'itemSummary': 'Item Summary',
                    'noItemsYet': 'No items added yet',
                    
                    // Results
                    'totalEntries': 'Total Entries:',
                    'totalExits': 'Total Exits:',
                    'finalBalance': 'Final Balance:',
                    'totalValue': 'Total Value:',
                    
                    // History
                    'operationsHistory': 'Operations History',
                    'clearHistory': 'Clear History',
                    'entriesLabel': 'Entries',
                    'exitsLabel': 'Exits',
                    
                    // Premium Modal
                    'premiumSubscription': 'Premium Subscription',
                    'choosePlan': 'Choose your plan:',
                    'monthly': 'Monthly',
                    'annual': 'Annual',
                    'perMonth': 'per month',
                    'perYear': 'per year',
                    'paymentMethod': 'Payment method:',
                    'pix': 'PIX',
                    'credit': 'Credit',
                    'debit': 'Debit',
                    'cancel': 'Cancel',
                    'confirm': 'Confirm',
                    
                    // Card Form
                    'cardDetails': 'Card Details',
                    'cardNumber': 'Card Number',
                    'expiryDate': 'Expiry Date',
                    'cvv': 'CVV',
                    'cardName': 'Name on Card',
                    'installments': 'Installments',
                    
                    // PIX
                    'pixPayment': 'PIX Payment',
                    'pixKey': 'PIX Key',
                    'copyPix': 'Copy',
                    'pixInstructions': 'Copy the PIX key above and make the payment through your bank. All payments must be made to this key.',
                    
                    // Premium Features
                    'advancedReports': 'Advanced Reports',
                    'cloudBackup': 'Cloud Backup',
                    'multipleUsers': 'Multiple Users',
                    'prioritySupport': 'Priority Support',
                    'basicPlan': 'Basic',
                    'mostPopular': 'Most Popular',
                    'smallBusinessIdeal': 'Ideal for small businesses',
                    'bestForGrowingBusiness': 'Best for growing businesses',
                    'saveFifteenPercent': 'Save 15%',
                    'upToFiveStocks': '‚úÖ Up to 5 stocks',
                    'basicReports': '‚úÖ Basic reports',
                    'emailSupport': '‚úÖ Email support',
                    'unlimitedStocks': '‚úÖ Unlimited stocks',
                    'advancedReportsFeature': '‚úÖ Advanced reports',
                    'automaticBackup': '‚úÖ Automatic backup',
                    'prioritySupportFeature': '‚úÖ Priority support',
                    'multipleUsersFeature': '‚úÖ Multiple users',
                    
                    // Share Menu
                    'whatsapp': 'WhatsApp',
                    'email': 'Email',
                    'pdf': 'PDF',
                    
                    // Placeholders
                    'stockName': 'Stock Name',
                    'stockDefault': 'Stock', // Para "Stock 1", "Stock 2", etc.
                    'itemPlaceholder': 'Item name...',
                    'entryPlaceholder': 'Entry qty...',
                    'exitPlaceholder': 'Exit qty...',
                    'valuePlaceholder': 'Value...',
                    
                    // Login Modal
                    'welcomeBack': 'Welcome Back',
                    'loginSubtitle': 'Enter your credentials to access the system',
                    'userOrEmail': 'Username or Email',
                    'password': 'Password',
                    'signIn': 'Sign In',
                    'needAccount': 'Need an account? Register',
                    'forgotPassword': 'Forgot password?',
                    
                    // Months
                    'months': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    
                    // Additional translations
                    'addItem': 'Add Item',
                    'removeItem': 'Remove Item',
                    'clearAll': 'Clear All',
                    'save': 'Save',
                    'export': 'Export',
                    'import': 'Import',
                    'settings': 'Settings',
                    'about': 'About',
                    'help': 'Help',
                    'close': 'Close',
                    'ok': 'OK',
                    'yes': 'Yes',
                    'no': 'No',
                    'loading': 'Loading...',
                    'success': 'Success!',
                    'error': 'Error!',
                    'warning': 'Warning!',
                    'info': 'Information',
                    
                    // Card placeholders
                    'cardNumberPlaceholder': '1234 5678 9012 3456',
                    'cardExpiryPlaceholder': 'MM/YY',
                    'cardCvvPlaceholder': '123',
                    'cardNamePlaceholder': 'Full name'
                }
            },
            'fr': { 
                flag: 'üá´üá∑', 
                name: 'FR', 
                fullName: 'Fran√ßais',
                translations: {
                    // Boutons du haut
                    'login': 'Connexion',
                    'premium': 'Premium',
                    'shareStock': 'Partager stock',
                    'selectLanguage': 'S√©lectionner la langue',
                    'toggleTheme': 'Changer le th√®me',
                    'notifications': 'Notifications',
                    
                    // Navigation
                    'previousMonth': 'Mois Pr√©c√©dent',
                    'nextMonth': 'Mois Suivant',
                    'newStock': 'Nouveau Stock',
                    'backStock': 'Stock Pr√©c√©dent',
                    
                    // Tableau
                    'item': 'Article',
                    'entry': 'Entr√©e',
                    'exit': 'Sortie',
                    'unitValue': 'Valeur (‚Ç¨)',
                    
                    // Graphiques
                    'entryChart': 'Entr√©es par Article',
                    'valueChart': 'Valeurs',
                    'exitChart': 'Sorties',
                    
                    // R√©sum√©
                    'itemSummary': 'R√©sum√© des Articles',
                    'noItemsYet': 'Aucun article ajout√© encore',
                    
                    // R√©sultats
                    'totalEntries': 'Total des Entr√©es:',
                    'totalExits': 'Total des Sorties:',
                    'finalBalance': 'Solde Final:',
                    'totalValue': 'Valeur Totale:',
                    
                    // Historique
                    'operationsHistory': 'Historique des Op√©rations',
                    'clearHistory': 'Effacer Historique',
                    'entriesLabel': 'Entr√©es',
                    'exitsLabel': 'Sorties',
                    
                    // Modal Premium
                    'premiumSubscription': 'Abonnement Premium',
                    'choosePlan': 'Choisissez votre plan:',
                    'monthly': 'Mensuel',
                    'annual': 'Annuel',
                    'perMonth': 'par mois',
                    'perYear': 'par an',
                    'paymentMethod': 'M√©thode de paiement:',
                    'pix': 'PIX',
                    'credit': 'Cr√©dit',
                    'debit': 'D√©bit',
                    'cancel': 'Annuler',
                    'confirm': 'Confirmer',
                    
                    // Formulaire de Carte
                    'cardDetails': 'D√©tails de la Carte',
                    'cardNumber': 'Num√©ro de Carte',
                    'expiryDate': 'Date d\'Expiration',
                    'cvv': 'CVV',
                    'cardName': 'Nom sur la Carte',
                    'installments': 'Versements',
                    
                    // PIX
                    'pixPayment': 'Paiement PIX',
                    'pixKey': 'Cl√© PIX',
                    'copyPix': 'Copier',
                    'pixInstructions': 'Copiez la cl√© PIX ci-dessus et effectuez le paiement via votre banque. Tous les paiements doivent √™tre effectu√©s sur cette cl√©.',
                    
                    // Fonctionnalit√©s Premium
                    'advancedReports': 'Rapports Avanc√©s',
                    'cloudBackup': 'Sauvegarde Cloud',
                    'multipleUsers': 'Utilisateurs Multiples',
                    'prioritySupport': 'Support Prioritaire',
                    'basicPlan': 'Basique',
                    'mostPopular': 'Plus Populaire',
                    'smallBusinessIdeal': 'Id√©al pour petites entreprises',
                    'bestForGrowingBusiness': 'Meilleur pour entreprises en croissance',
                    'saveFifteenPercent': '√âconomisez 15%',
                    'upToFiveStocks': '‚úÖ Jusqu\'√† 5 stocks',
                    'basicReports': '‚úÖ Rapports basiques',
                    'emailSupport': '‚úÖ Support par email',
                    'unlimitedStocks': '‚úÖ Stocks illimit√©s',
                    'advancedReportsFeature': '‚úÖ Rapports avanc√©s',
                    'automaticBackup': '‚úÖ Sauvegarde automatique',
                    'prioritySupportFeature': '‚úÖ Support prioritaire',
                    'multipleUsersFeature': '‚úÖ Utilisateurs multiples',
                    
                    // Menu Partage
                    'whatsapp': 'WhatsApp',
                    'email': 'E-mail',
                    'pdf': 'PDF',
                    
                    // Placeholders
                    'stockName': 'Nom du Stock',
                    'stockDefault': 'Stock', // Para "Stock 1", "Stock 2", etc.
                    'itemPlaceholder': 'Nom de l\'article...',
                    'entryPlaceholder': 'Qt√© entr√©e...',
                    'exitPlaceholder': 'Qt√© sortie...',
                    'valuePlaceholder': 'Valeur...',
                    
                    // Months
                    'months': ['Janvier', 'F√©vrier', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Ao√ªt', 'Septembre', 'Octobre', 'Novembre', 'D√©cembre'],
                    
                    // Additional translations
                    'addItem': 'Ajouter Article',
                    'removeItem': 'Supprimer Article',
                    'clearAll': 'Tout Effacer',
                    'save': 'Sauvegarder',
                    'export': 'Exporter',
                    'import': 'Importer',
                    'settings': 'Param√®tres',
                    'about': '√Ä propos',
                    'help': 'Aide',
                    'close': 'Fermer',
                    'ok': 'OK',
                    'yes': 'Oui',
                    'no': 'Non',
                    'loading': 'Chargement...',
                    'success': 'Succ√®s!',
                    'error': 'Erreur!',
                    'warning': 'Attention!',
                    'info': 'Information',
                    
                    // Card placeholders
                    'cardNumberPlaceholder': '1234 5678 9012 3456',
                    'cardExpiryPlaceholder': 'MM/AA',
                    'cardCvvPlaceholder': '123',
                    'cardNamePlaceholder': 'Nom complet'
                }
            },
            'it': { 
                flag: 'üáÆüáπ', 
                name: 'IT', 
                fullName: 'Italiano',
                translations: {
                    // Pulsanti in alto
                    'login': 'Accesso',
                    'premium': 'Premium',
                    'shareStock': 'Condividi stock',
                    'selectLanguage': 'Seleziona Lingua',
                    'toggleTheme': 'Cambia tema',
                    'notifications': 'Notifiche',
                    
                    // Navigazione
                    'previousMonth': 'Mese Precedente',
                    'nextMonth': 'Mese Successivo',
                    'newStock': 'Nuovo Stock',
                    'backStock': 'Stock Precedente',
                    
                    // Tabella
                    'item': 'Articolo',
                    'entry': 'Entrata',
                    'exit': 'Uscita',
                    'unitValue': 'Valore (‚Ç¨)',
                    
                    // Grafici
                    'entryChart': 'Entrate per Articolo',
                    'valueChart': 'Valori',
                    'exitChart': 'Uscite',
                    
                    // Riassunto
                    'itemSummary': 'Riassunto Articoli',
                    'noItemsYet': 'Nessun articolo aggiunto ancora',
                    
                    // Risultati
                    'totalEntries': 'Totale Entrate:',
                    'totalExits': 'Totale Uscite:',
                    'finalBalance': 'Saldo Finale:',
                    'totalValue': 'Valore Totale:',
                    
                    // Storico
                    'operationsHistory': 'Storico Operazioni',
                    'clearHistory': 'Cancella Storico',
                    'entriesLabel': 'Entrate',
                    'exitsLabel': 'Uscite',
                    
                    // Modal Premium
                    'premiumSubscription': 'Abbonamento Premium',
                    'choosePlan': 'Scegli il tuo piano:',
                    'monthly': 'Mensile',
                    'annual': 'Annuale',
                    'perMonth': 'al mese',
                    'perYear': 'all\'anno',
                    'paymentMethod': 'Metodo di pagamento:',
                    'pix': 'PIX',
                    'credit': 'Credito',
                    'debit': 'Debito',
                    'cancel': 'Annulla',
                    'confirm': 'Conferma',
                    
                    // Modulo Carta
                    'cardDetails': 'Dettagli Carta',
                    'cardNumber': 'Numero Carta',
                    'expiryDate': 'Data di Scadenza',
                    'cvv': 'CVV',
                    'cardName': 'Nome sulla Carta',
                    'installments': 'Rate',
                    
                    // PIX
                    'pixPayment': 'Pagamento PIX',
                    'pixKey': 'Chiave PIX',
                    'copyPix': 'Copia',
                    'pixInstructions': 'Copia la chiave PIX sopra ed effettua il pagamento tramite la tua banca. Tutti i pagamenti devono essere effettuati su questa chiave.',
                    
                    // Funzionalit√† Premium
                    'advancedReports': 'Report Avanzati',
                    'cloudBackup': 'Backup Cloud',
                    'multipleUsers': 'Utenti Multipli',
                    'prioritySupport': 'Supporto Prioritario',
                    'basicPlan': 'Base',
                    'mostPopular': 'Pi√π Popolare',
                    'smallBusinessIdeal': 'Ideale per piccole aziende',
                    'bestForGrowingBusiness': 'Migliore per aziende in crescita',
                    'saveFifteenPercent': 'Risparmia 15%',
                    'upToFiveStocks': '‚úÖ Fino a 5 stock',
                    'basicReports': '‚úÖ Report di base',
                    'emailSupport': '‚úÖ Supporto email',
                    'unlimitedStocks': '‚úÖ Stock illimitati',
                    'advancedReportsFeature': '‚úÖ Report avanzati',
                    'automaticBackup': '‚úÖ Backup automatico',
                    'prioritySupportFeature': '‚úÖ Supporto prioritario',
                    'multipleUsersFeature': '‚úÖ Utenti multipli',
                    
                    // Menu Condivisione
                    'whatsapp': 'WhatsApp',
                    'email': 'Email',
                    'pdf': 'PDF',
                    
                    // Placeholders
                    'stockName': 'Nome Stock',
                    'stockDefault': 'Stock', // Para "Stock 1", "Stock 2", etc.
                    'itemPlaceholder': 'Nome articolo...',
                    'entryPlaceholder': 'Qta entrata...',
                    'exitPlaceholder': 'Qta uscita...',
                    'valuePlaceholder': 'Valore...',
                    
                    // Months
                    'months': ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno', 'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre']
                }
            },
            'es': { 
                flag: 'üá™üá∏', 
                name: 'ES', 
                fullName: 'Espa√±ol',
                translations: {
                    // Botones superiores
                    'login': 'Acceso',
                    'premium': 'Premium',
                    'shareStock': 'Compartir stock',
                    'selectLanguage': 'Seleccionar Idioma',
                    'toggleTheme': 'Cambiar tema',
                    'notifications': 'Notifica√ß√µes',
                    
                    // Navega√ß√£o
                    'previousMonth': 'Mes Anterior',
                    'nextMonth': 'Mes Siguiente',
                    'newStock': 'Nuevo Stock',
                    'backStock': 'Stock Anterior',
                    
                    // Tabla
                    'item': 'Art√≠culo',
                    'entry': 'Entrada',
                    'exit': 'Salida',
                    'unitValue': 'Valor ($)',
                    
                    // Gr√°ficos
                    'entryChart': 'Entradas por Art√≠culo',
                    'valueChart': 'Valores',
                    'exitChart': 'Salidas',
                    
                    // Resumen
                    'itemSummary': 'Resumen de Art√≠culos',
                    'noItemsYet': 'Ning√∫n art√≠culo agregado a√∫n',
                    
                    // Resultados
                    'totalEntries': 'Total de Entradas:',
                    'totalExits': 'Total de Salidas:',
                    'finalBalance': 'Saldo Final:',
                    'totalValue': 'Valor Total:',
                    
                    // Historial
                    'operationsHistory': 'Historial de Operaciones',
                    'clearHistory': 'Limpiar Historial',
                    'entriesLabel': 'Entradas',
                    'exitsLabel': 'Salidas',
                    
                    // Modal Premium
                    'premiumSubscription': 'Suscripci√≥n Premium',
                    'choosePlan': 'Elige tu plan:',
                    'monthly': 'Mensual',
                    'annual': 'Anual',
                    'perMonth': 'por mes',
                    'perYear': 'por a√±o',
                    'paymentMethod': 'M√©todo de pago:',
                    'pix': 'PIX',
                    'credit': 'Cr√©dito',
                    'debit': 'D√©bito',
                    'cancel': 'Cancelar',
                    'confirm': 'Confirmar',
                    
                    // Formulario de Tarjeta
                    'cardDetails': 'Datos de la Tarjeta',
                    'cardNumber': 'N√∫mero de Tarjeta',
                    'expiryDate': 'Fecha de Vencimiento',
                    'cvv': 'CVV',
                    'cardName': 'Nombre en la Tarjeta',
                    'installments': 'Cuotas',
                    
                    // PIX
                    'pixPayment': 'Pago PIX',
                    'pixKey': 'Clave PIX',
                    'copyPix': 'Copiar',
                    'pixInstructions': 'Copia la clave PIX de arriba y realiza el pago a trav√©s de tu banco. Todos los pagos deben realizarse a esta clave.',
                    'whatsapp': 'WhatsApp',
                    'email': 'Email',
                    'pdf': 'PDF',
                    
                    // Placeholders
                    'stockName': 'Nombre del Stock',
                    'stockDefault': 'Stock', // Para "Stock 1", "Stock 2", etc.
                    'itemPlaceholder': 'Nombre del art√≠culo...',
                    'entryPlaceholder': 'Cant. entrada...',
                    'exitPlaceholder': 'Cant. salida...',
                    'valuePlaceholder': 'Valor...',
                    
                    // Months
                    'months': ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    
                    // Additional translations
                    'addItem': 'Agregar Art√≠culo',
                    'removeItem': 'Eliminar Art√≠culo',
                    'clearAll': 'Limpiar Todo',
                    'save': 'Guardar',
                    'export': 'Exportar',
                    'import': 'Importar',
                    'settings': 'Configuraci√≥n',
                    'about': 'Acerca de',
                    'help': 'Ayuda',
                    'close': 'Cerrar',
                    'ok': 'OK',
                    'yes': 'S√≠',
                    'no': 'No',
                    'loading': 'Cargando...',
                    'success': '¬°√âxito!',
                    'error': '¬°Error!',
                    'warning': '¬°Advertencia!',
                    'info': 'Informaci√≥n',
                    
                    // Card placeholders
                    'cardNumberPlaceholder': '1234 5678 9012 3456',
                    'cardExpiryPlaceholder': 'MM/AA',
                    'cardCvvPlaceholder': '123',
                    'cardNamePlaceholder': 'Nombre completo'
                }
            }
        };

        // Fun√ß√£o para aplicar tradu√ß√µes
        // Fun√ß√£o auxiliar para obter tradu√ß√£o
        function getTranslation(key, lang = currentLanguage) {
            return languages[lang]?.translations[key] || key;
        }
        
        // Expor fun√ß√£o globalmente para uso em outros scripts
        window.getTranslation = getTranslation;
        window.applyTranslations = applyTranslations;
        window.languages = languages;

        // Fun√ß√£o auxiliar para traduzir nome de estoque padr√£o
        function getStockName(index, lang = currentLanguage) {
            const stockWord = getTranslation('stockDefault', lang);
            return `${stockWord} ${index + 1}`;
        }

        function applyTranslations(lang) {
            const translations = languages[lang].translations;
            console.log(`Aplicando tradu√ß√µes para: ${lang}`, translations);
            
            // Traduzir textos dos elementos
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[key]) {
                    // Preservar √≠cones e emojis
                    const currentText = element.textContent || element.innerText;
                    const iconMatch = currentText.match(/^[\u{1F000}-\u{1F9FF}][\u{1F000}-\u{1F9FF}]?|^[üîëüëëüì¶üìãüìàüìâ‚óÄ‚ñ∂\-\+üí≥üè¶üí≥üí∏]/u);
                    const icon = iconMatch ? iconMatch[0] + ' ' : '';
                    element.textContent = icon + translations[key];
                }
            });
            
            // Traduzir atributos title
            document.querySelectorAll('[data-translate-title]').forEach(element => {
                const key = element.getAttribute('data-translate-title');
                if (translations[key]) {
                    element.setAttribute('title', translations[key]);
                }
            });
            
            // Traduzir placeholders espec√≠ficos
            document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                const key = element.getAttribute('data-translate-placeholder');
                if (translations[key]) {
                    element.setAttribute('placeholder', translations[key]);
                }
            });
            
            // Traduzir placeholders de elementos espec√≠ficos
            const placeholders = {
                'nomeEstoqueInput': 'stockName'
            };
            
            Object.keys(placeholders).forEach(elementId => {
                const element = document.getElementById(elementId);
                const translationKey = placeholders[elementId];
                if (element && translations[translationKey]) {
                    element.setAttribute('placeholder', translations[translationKey]);
                }
            });
            
            // Traduzir inputs da tabela de forma din√¢mica
            document.querySelectorAll('input[placeholder]').forEach(input => {
                const placeholder = input.getAttribute('placeholder');
                if (placeholder.includes('Nome do item') || placeholder.includes('Item name') || placeholder.includes('Nome de l\'article') || placeholder.includes('Nombre del art√≠culo')) {
                    input.setAttribute('placeholder', translations['itemPlaceholder'] || placeholder);
                } else if (placeholder.includes('Qtd entrada') || placeholder.includes('Entry qty') || placeholder.includes('Qt√© entr√©e') || placeholder.includes('Cant. entrada')) {
                    input.setAttribute('placeholder', translations['entryPlaceholder'] || placeholder);
                } else if (placeholder.includes('Qtd sa√≠da') || placeholder.includes('Exit qty') || placeholder.includes('Qt√© sortie') || placeholder.includes('Cant. salida')) {
                    input.setAttribute('placeholder', translations['exitPlaceholder'] || placeholder);
                } else if (placeholder.includes('Valor') || placeholder.includes('Value') || placeholder.includes('Valeur')) {
                    input.setAttribute('placeholder', translations['valuePlaceholder'] || placeholder);
                }
            });
            
            // Atualizar m√™s atual com tradu√ß√£o
            if (translations.months) {
                // Expor os meses traduzidos globalmente para o script.js
                window.currentLanguageMonths = translations.months;
                window.currentLanguage = lang; // Expor idioma atual
                
                // Atualizar imediatamente se a fun√ß√£o updateMonthDisplay existir
                if (typeof window.updateMonthDisplay === 'function') {
                    window.updateMonthDisplay();
                }
            }
            
            // For√ßa a re-tradu√ß√£o de elementos que podem ter sido criados dinamicamente
            setTimeout(() => {
                // Re-aplicar tradu√ß√µes ap√≥s um breve delay para elementos din√¢micos
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[key] && element.textContent !== translations[key]) {
                        const currentText = element.textContent || element.innerText;
                        const iconMatch = currentText.match(/^[\u{1F000}-\u{1F9FF}][\u{1F000}-\u{1F9FF}]?|^[üîëüëëüì¶üìãüìàüìâ‚óÄ‚ñ∂\-\+üí≥üè¶üí≥üí∏]/u);
                        const icon = iconMatch ? iconMatch[0] + ' ' : '';
                        element.textContent = icon + translations[key];
                    }
                });
                
                // Re-aplicar placeholders
                document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                    const key = element.getAttribute('data-translate-placeholder');
                    if (translations[key]) {
                        element.setAttribute('placeholder', translations[key]);
                    }
                });
            }, 100);
            
            console.log(`Idioma alterado para: ${languages[lang].fullName}`);
        }

        // === MENU DE IDIOMAS E SHARE MODERNO ===
        // Helper to position a menu below a button
        function positionMenuBelowButton(menu, button) {
            const btnRect = button.getBoundingClientRect();
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
            menu.style.top = (btnRect.bottom + 8 + scrollTop) + 'px';
            menu.style.left = (btnRect.left + btnRect.width/2 - menu.offsetWidth/2 + scrollLeft) + 'px';
        }

        // Toggle menu de idiomas
        document.getElementById('btnLanguage').addEventListener('click', function(e) {
            e.stopPropagation();
            const menu = document.getElementById('languageMenu');
            const isVisible = menu.style.display !== 'none';
            if (!isVisible) {
                menu.style.display = 'block';
                // Aguarda renderiza√ß√£o para garantir offsetWidth correto
                setTimeout(() => positionMenuBelowButton(menu, this), 0);
            } else {
                menu.style.display = 'none';
            }
            // Fecha o outro menu
            document.getElementById('shareMenu').style.display = 'none';
            // Marca idioma atual como selecionado
            document.querySelectorAll('.language-option').forEach(opt => {
                opt.classList.remove('selected');
                if (opt.dataset.lang === currentLanguage) {
                    opt.classList.add('selected');
                }
            });
        });

        // Toggle menu de share
        document.getElementById('btnShare').addEventListener('click', function(e) {
            e.stopPropagation();
            const menu = document.getElementById('shareMenu');
            const isVisible = menu.style.display !== 'none';
            if (!isVisible) {
                menu.style.display = 'block';
                positionMenuBelowButton(menu, this);
            } else {
                menu.style.display = 'none';
            }
            // Fecha o outro menu
            document.getElementById('languageMenu').style.display = 'none';
        });

        // Fecha menus ao clicar fora
        document.addEventListener('click', function() {
            document.getElementById('languageMenu').style.display = 'none';
            document.getElementById('shareMenu').style.display = 'none';
        });

        // Fecha menus ao rolar ou redimensionar (para evitar menus "perdidos")
        window.addEventListener('scroll', function() {
            document.getElementById('languageMenu').style.display = 'none';
            document.getElementById('shareMenu').style.display = 'none';
        });
        window.addEventListener('resize', function() {
            document.getElementById('languageMenu').style.display = 'none';
            document.getElementById('shareMenu').style.display = 'none';
        });

        // Sele√ß√£o de idioma
        document.querySelectorAll('.language-option').forEach(option => {
            option.addEventListener('click', function(e) {
                e.stopPropagation();
                const lang = this.getAttribute('data-lang');
                if (lang && languages[lang]) {
                    currentLanguage = lang;
                    localStorage.setItem('selectedLanguage', lang);
                    applyTranslations(lang);
                }
                document.getElementById('languageMenu').style.display = 'none';
            });
        });
        // Carrega idioma salvo e aplica tradu√ß√µes
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('selectedLanguage') || 'pt';
            if (languages[savedLang]) {
                currentLanguage = savedLang;
                // Atualiza a bandeira do bot√£o ao carregar para todas as linguagens
                const flagImg = document.getElementById('currentFlag');
                let flagSrc = '';
                switch (savedLang) {
                  case 'pt': flagSrc = 'icones/br.png'; break;
                  case 'en': flagSrc = 'icones/us.png'; break;
                  case 'fr': flagSrc = 'icones/fr.png'; break;
                  case 'it': flagSrc = 'icones/it.png'; break;
                  case 'es': flagSrc = 'icones/es.png'; break;
                  default: flagSrc = 'icones/br.png'; break;
                }
                flagImg.src = flagSrc;
                flagImg.alt = savedLang;
                flagImg.style.display = 'inline-block';
                // Remove qualquer texto ou emoji do bot√£o
                Array.from(flagImg.parentElement.childNodes).forEach(node => {
                  if (node.nodeType === Node.TEXT_NODE) node.textContent = '';
                  if (node.nodeType === Node.ELEMENT_NODE && node !== flagImg && node.tagName !== 'IMG') node.remove();
                });
                applyTranslations(savedLang); // Aplica as tradu√ß√µes na inicializa√ß√£o
            }
            
            // Reaplica tradu√ß√µes quando novos elementos s√£o adicionados
            const observer = new MutationObserver(function(mutations) {
                let shouldReapply = false;
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                        // Verifica se algum n√≥ adicionado tem atributos de tradu√ß√£o
                        for (let node of mutation.addedNodes) {
                            if (node.nodeType === Node.ELEMENT_NODE) {
                                if (node.hasAttribute && (node.hasAttribute('data-translate') || 
                                    node.hasAttribute('data-translate-title') || 
                                    node.hasAttribute('data-translate-placeholder') ||
                                    node.querySelector('[data-translate]') ||
                                    node.querySelector('[data-translate-title]') ||
                                    node.querySelector('[data-translate-placeholder]'))) {
                                    shouldReapply = true;
                                    break;
                                }
                            }
                        }
                    }
                });
                
                if (shouldReapply) {
                    // Reaplica tradu√ß√µes ap√≥s um breve delay
                    setTimeout(() => {
                        applyTranslations(currentLanguage);
                    }, 50);
                }
            });
            
            // Observa mudan√ßas no DOM
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
        });

        // Fecha menus ao clicar fora
        document.addEventListener('click', function() {
            document.getElementById('languageMenu').style.display = 'none';
            document.getElementById('shareMenu').style.display = 'none';
        });

        // === FUN√á√ïES DO MODAL DE LOGIN === //
        function openLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // Previne scroll da p√°gina
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.classList.remove('active');
            document.body.style.overflow = ''; // Restaura scroll da p√°gina
            
            // Limpa os campos
            document.getElementById('loginUsername').value = '';
            document.getElementById('loginPassword').value = '';
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            const container = document.querySelector('.login-container');
            
            if (!username || !password) {
                // Adiciona anima√ß√£o de erro
                container.classList.add('error');
                setTimeout(() => container.classList.remove('error'), 600);
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            // Integra√ß√£o com o sistema principal - simular campos do sistema principal
            const tempLoginUsuario = { value: username };
            const tempLoginSenha = { value: password };
            
            // Verificar credenciais master (mesmo sistema do script.js)
            const CREDENCIAIS_MASTER = [
                { login: 'Daphiny', senha: '2019', email: 'admin@dcodestock.com' },
                { login: 'Douglas', senha: 'Daphiny@#2019', email: 'douglas@dcodestock.com' }
            ];
            
            const masterEncontrado = CREDENCIAIS_MASTER.find(master => 
                master.login === username && master.senha === password
            );
            
            if (masterEncontrado) {
                console.log('‚úÖ Login master bem-sucedido via modal moderno!');
                
                // Adiciona anima√ß√£o de sucesso
                container.classList.add('success');
                
                // Salvar login premium no localStorage (mesmo formato do script.js)
                const agora = new Date();
                const expiracao = new Date(agora);
                expiracao.setFullYear(expiracao.getFullYear() + 10); // 10 anos para master
                
                const loginData = {
                    usuario: username,
                    ativacao: agora.toISOString(),
                    expiracao: expiracao.toISOString(),
                    ativo: true,
                    tipo: 'master',
                    plano: 'master',
                    email: masterEncontrado.email
                };
                
                localStorage.setItem('loginPremium', JSON.stringify(loginData));
                
                // Atualizar interface
                const btnLogin = document.getElementById('btnLogin');
                if (btnLogin) {
                    btnLogin.innerHTML = 'üë§ ' + username;
                    btnLogin.classList.add('logged-in');
                    btnLogin.title = 'Master logado - Premium ativo';
                }
                
                // Feedback visual
                setTimeout(() => {
                    closeLoginModal();
                    container.classList.remove('success');
                    
                    // Mostrar mensagem de sucesso e recarregar
                    alert(`‚úÖ Login master realizado com sucesso!\n\nBem-vindo, ${username}!\n\nAcesso premium ativado. A p√°gina ser√° recarregada.`);
                    window.location.reload();
                }, 800);
                
            } else {
                // Login inv√°lido
                console.log('‚ùå Login inv√°lido no modal moderno');
                container.classList.add('error');
                setTimeout(() => container.classList.remove('error'), 600);
                alert('‚ùå Login ou senha incorretos.\n\nüîë Use as credenciais master:\n‚Ä¢ Douglas / Daphiny@#2019\n‚Ä¢ Daphiny / 2019');
            }
        }

        function logout() {
            localStorage.removeItem('userLoggedIn');
            localStorage.removeItem('username');
            
            // Restaura o bot√£o de login
            const btnLogin = document.getElementById('btnLogin');
            btnLogin.innerHTML = 'üîë Login';
            btnLogin.classList.remove('logged-in');
            btnLogin.onclick = openLoginModal;
            btnLogin.title = 'Fazer Login';
            
            // Feedback visual
            showLogoutSuccess();
        }

        function showLoginSuccess() {
            // Removido - sem popup toast
            console.log('Login realizado com sucesso!');
        }

        function showLoginError() {
            // Removido - sem popup toast
            console.log('Erro no login!');
        }

        function showLogoutSuccess() {
            // Removido - sem popup toast
            console.log('Logout realizado com sucesso!');
        }

        function showRegister() {
            closeLoginModal();
            alert('Funcionalidade de registro em desenvolvimento!');
        }

        function showForgotPassword() {
            closeLoginModal();
            alert('Funcionalidade de recupera√ß√£o de senha em desenvolvimento!');
        }

        // === FUN√á√ÉO TOGGLE SENHA === //
        function togglePasswordVisibility(inputId, toggleButton) {
            const passwordInput = document.getElementById(inputId);
            const eyeIcon = toggleButton.querySelector('.eye-icon');
            
            if (passwordInput.type === 'password') {
                // Mostrar senha
                passwordInput.type = 'text';
                toggleButton.classList.add('password-visible');
                toggleButton.title = 'Ocultar senha';
                
                // Trocar √≠cone para olho aberto
                eyeIcon.innerHTML = `
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                `;
            } else {
                // Ocultar senha
                passwordInput.type = 'password';
                toggleButton.classList.remove('password-visible');
                toggleButton.title = 'Mostrar senha';
                
                // Trocar √≠cone para olho fechado
                eyeIcon.innerHTML = `
                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                    <line x1="1" y1="1" x2="23" y2="23"/>
                `;
            }
        }

        // Fecha modal ao clicar fora do container
        document.getElementById('loginModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLoginModal();
            }
        });

        // Fecha modal com ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLoginModal();
            }
        });

        // Verifica se usu√°rio j√° est√° logado ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            const userLoggedIn = localStorage.getItem('userLoggedIn');
            const username = localStorage.getItem('username');
            
            if (userLoggedIn === 'true' && username) {
                const btnLogin = document.getElementById('btnLogin');
                btnLogin.innerHTML = 'üë§ ' + username;
                btnLogin.classList.add('logged-in');
                btnLogin.onclick = logout;
                btnLogin.title = 'Clique para sair';
            }
        });

        // CSS para anima√ß√µes removido - sem toasts

        // === FUN√á√ïES DO MODAL PREMIUM === //
        function showPaymentModal() {
            console.log('showPaymentModal chamada');
            const modalElement = document.getElementById('modalPagamento');
            if (modalElement) {
                console.log('Modal encontrado, abrindo...');
                modalElement.classList.add('active');
                modalElement.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            } else {
                console.error('Modal modalPagamento n√£o encontrado!');
            }
        }
        
        // Expor fun√ß√£o globalmente
        window.showPaymentModal = showPaymentModal;

        function closePaymentModal() {
            console.log('üîí Fechando modal imediatamente...');
            const modalElement = document.getElementById('modalPagamento');
            if (modalElement) {
                modalElement.classList.remove('active');
                modalElement.style.display = 'none';
                modalElement.style.opacity = '0';
                modalElement.style.visibility = 'hidden';
                document.body.style.overflow = '';
                document.body.style.paddingRight = '';
                console.log('‚úÖ Modal fechado com sucesso');
            } else {
                console.error('‚ùå Modal n√£o encontrado');
            }
        }

        // Event listeners para o modal premium
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM carregado, inicializando modal premium...');
            
            // Verificar se modal existe
            const modalPagamento = document.getElementById('modalPagamento');
            if (modalPagamento) {
                console.log('Modal modalPagamento encontrado!');
            } else {
                console.error('Modal modalPagamento N√ÉO encontrado!');
            }
            
            // Bot√£o fechar
            const closeBtn = document.getElementById('fecharModalPagamento');
            if (closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    closePaymentModal();
                });
                console.log('Bot√£o fechar modal configurado');
            } else {
                console.error('Bot√£o fechar modal n√£o encontrado');
            }

            // Bot√£o cancelar
            const cancelBtn = document.getElementById('cancelarPagamento');
            if (cancelBtn) {
                cancelBtn.addEventListener('click', closePaymentModal);
            }

            // Sele√ß√£o de planos
            const planOptions = document.querySelectorAll('.plan-option');
            planOptions.forEach(option => {
                option.addEventListener('click', function() {
                    planOptions.forEach(p => p.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // M√©todos de pagamento
            const paymentMethods = document.querySelectorAll('.payment-method');
            paymentMethods.forEach(method => {
                method.addEventListener('click', function() {
                    paymentMethods.forEach(m => m.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Confirmar pagamento
            const confirmBtn = document.getElementById('confirmarPagamento');
            if (confirmBtn) {
                confirmBtn.addEventListener('click', function() {
                    const selectedPlan = document.querySelector('.plan-option.selected');
                    const selectedMethod = document.querySelector('.payment-method.active');
                    
                    if (selectedPlan && selectedMethod) {
                        showPremiumSuccess();
                        closePaymentModal();
                    }
                });
            }

            // Fechar modal ao clicar fora
            const modalOutsideClick = document.getElementById('modalPagamento');
            if (modalOutsideClick) {
                modalOutsideClick.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closePaymentModal();
                    }
                });
            }
        });

        function showPremiumSuccess() {
            // Removido - sem popup toast
            console.log('Plano Premium ativado com sucesso!');
        }
    </script>
    
    <!-- Script para otimiza√ß√£o empresarial do v√≠deo -->
    <script>
        // Configura√ß√£o empresarial do v√≠deo para apresenta√ß√£o profissional
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.querySelector('.video-banner-move video');
            
            if (video) {
                // Detecta iOS
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                const isSafari = /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);
                
                // Configura√ß√µes profissionais para apresenta√ß√£o empresarial
                video.setAttribute('webkit-playsinline', 'true');
                video.setAttribute('playsinline', 'true');
                video.setAttribute('x5-playsinline', 'true');
                video.setAttribute('x5-video-player-type', 'h5');
                video.setAttribute('x5-video-player-fullscreen', 'false');
                video.setAttribute('x5-video-orientation', 'portraint');
                
                // Configura√ß√µes espec√≠ficas para iOS
                if (isIOS) {
                    video.setAttribute('playsInline', 'true');
                    video.setAttribute('webkit-playsInline', 'true');
                    video.muted = true;
                    video.loop = true;
                    video.autoplay = true;
                    video.preload = 'metadata';
                }
                
                // Remove completamente qualquer controle
                video.controls = false;
                video.removeAttribute('controls');
                
                // Fun√ß√£o para for√ßar reprodu√ß√£o
                const forcePlay = () => {
                    if (video.paused) {
                        video.play().catch(e => {
                            console.log('Autoplay foi bloqueado pelo navegador');
                            // Tenta novamente ap√≥s intera√ß√£o do usu√°rio
                            document.addEventListener('click', () => {
                                video.play().catch(console.log);
                            }, { once: true });
                        });
                    }
                };
                
                // Garante reprodu√ß√£o cont√≠nua
                forcePlay();
                
                // Previne menu de contexto
                video.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Previne clique direito e sele√ß√£o
                video.addEventListener('selectstart', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Previne drag
                video.addEventListener('dragstart', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Garante que n√£o haja interrup√ß√µes - LOOP INFINITO
                video.addEventListener('pause', function() {
                    setTimeout(forcePlay, 50);
                });
                
                // Garante restart autom√°tico quando termina
                video.addEventListener('ended', function() {
                    video.currentTime = 0;
                    forcePlay();
                });
                
                // Otimiza√ß√£o para apresenta√ß√£o empresarial
                video.addEventListener('loadedmetadata', function() {
                    video.currentTime = 0;
                    forcePlay();
                });
                
                // Controle de qualidade para apresenta√ß√£o
                video.addEventListener('canplaythrough', function() {
                    video.style.opacity = '1';
                    video.style.transition = 'opacity 0.5s ease';
                    forcePlay();
                });
                
                // Especial para iOS - for√ßa reprodu√ß√£o ap√≥s carregamento
                video.addEventListener('loadeddata', function() {
                    if (isIOS) {
                        setTimeout(forcePlay, 500);
                    }
                });
                
                // Loop infinito - verifica a cada segundo se est√° rodando
                setInterval(function() {
                    if (video.paused || video.ended) {
                        video.currentTime = 0;
                        forcePlay();
                    }
                }, 1000);
                
                // Inicializa com opacidade 0 para transi√ß√£o suave
                video.style.opacity = '0';
                
                // Tenta reproduzir ap√≥s um breve delay
                setTimeout(forcePlay, 1000);
            }
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="script.js"></script>
    <script src="payment.js"></script>
    <script>
    // Compartilhamento: expande op√ß√µes ao clicar no bot√£o principal
    document.addEventListener('DOMContentLoaded', function() {
        const btnShare = document.getElementById('btnShare');
        const shareOptions = document.getElementById('shareOptions');
        let open = false;
        if (btnShare && shareOptions) {
            btnShare.addEventListener('click', function(e) {
                e.stopPropagation();
                open = !open;
                if (open) {
                    shareOptions.style.display = 'flex';
                    setTimeout(() => {
                        shareOptions.style.opacity = '1';
                        shareOptions.style.transform = 'translateY(-50%) scale(1)';
                        shareOptions.style.pointerEvents = 'auto';
                    }, 10);
                } else {
                    shareOptions.style.opacity = '0';
                    shareOptions.style.transform = 'translateY(-50%) scale(0.95)';
                    shareOptions.style.pointerEvents = 'none';
                    setTimeout(() => {
                        shareOptions.style.display = 'none';
                    }, 200);
                }
            });
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('selectedLanguage') || 'pt';
            if (languages[savedLang]) {
                currentLanguage = savedLang;
                applyTranslations(savedLang);
            }
            // Reaplica tradu√ß√µes quando novos elementos s√£o adicionados
            const observer = new MutationObserver(function(mutations) {
                let shouldReapply = false;
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                        for (let node of mutation.addedNodes) {
                            if (node.nodeType === Node.ELEMENT_NODE && (node.hasAttribute && (node.hasAttribute('data-translate') || node.hasAttribute('data-translate-title') || node.hasAttribute('data-translate-placeholder')))) {
                                shouldReapply = true;
                            }
                        }
                    }
                });
                if (shouldReapply) {
                    setTimeout(() => {
                        applyTranslations(currentLanguage);
                    }, 50);
                }
            });
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
        });